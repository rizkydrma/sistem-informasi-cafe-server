(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{113:function(e,t,a){},125:function(e,t){},130:function(e){e.exports=JSON.parse('[{"icon":"bx bx-log-out-circle bx-rotate-180","content":"Logout"}]')},134:function(e){e.exports=JSON.parse('[{"name":"preparing","color":"primary","policy":["kitchen","admin"]},{"name":"delivery","color":"warning","policy":["kitchen","admin"]},{"name":"delivered","color":"success","policy":["waiter","admin"]}]')},135:function(e){e.exports=JSON.parse('[{"name":"waiting_payment","color":"warning","content":"waiting"},{"name":"done","color":"success","content":"done"}]')},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},160:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},211:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},222:function(e,t){},223:function(e,t){},225:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(45),s=a.n(c),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,229)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},i=a(10),l=a(65),u=a(2),d="redux/Theme/SET_MODE",j="redux/Theme/SET_COLOR",b={},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{mode:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{color:t.payload});default:return e}},p="redux/Auth/USER_LOGIN",h="redux/Auth/USER_LOGOUT",O=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{user:null,token:null};var f="redux/Orders/START_FETCHING_ORDERS",x="redux/Orders/ERROR_FETCHING_ORDERS",g="redux/Orders/SUCCESS_FETCHING_ORDERS",v="redux/Orders/SET_PAGE",y="redux/Orders/NEXT_PAGE",N="redux/Orders/PREV_PAGE",k="process",w="success",A="error",S={data:[],currentPage:1,totalItems:-1,perPage:40,status:"idle",fullData:[]};var C="redux/Products/START_FETCHING_PRODUCTS",P="redux/Products/ERROR_FETCHING_PRODUCTS",D="redux/Products/SUCCESS_FETCHING_PRODUCTS",E="redux/Products/SET_PAGE",I="redux/Products/NEXT_PAGE",T="redux/Products/PREV_PAGE",_="idle",B="success",F="error",R={data:[],currentPage:1,totalItems:-1,perPage:15,status:_};var H="redux/Category/START_FETCHING_CATEGORY",L="redux/Category/ERROR_FETCHING_CATEGORY",W="redux/Category/SUCCESS_FETCHING_Category",M="redux/Category/SET_PAGE",z="redux/Category/NEXT_PAGE",G="redux/Category/PREV_PAGE",J="idle",q="success",U="error",Y={data:[],currentPage:1,totalItems:-1,perPage:5,status:J};var K="redux/User/START_FETCHING_USER",V="redux/User/ERROR_FETCHING_USER",Q="redux/User/SUCCESS_FETCHING_USER",Z="redux/User/SET_PAGE",X="redux/User/NEXT_PAGE",$="redux/User/PREV_PAGE",ee="idle",te="success",ae="error",ne={data:[],currentPage:1,totalItems:-1,perPage:25,status:ee};var re=a(127),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,se=Object(l.b)({theme:m,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{user:t.user,token:t.token};case h:return{user:null,token:null};default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{status:k});case x:return Object(u.a)(Object(u.a)({},e),{},{status:A});case g:return Object(u.a)(Object(u.a)({},e),{},{status:w,data:t.data,totalItems:t.count,fullData:t.fullData});case v:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case y:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage+1});case N:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage-1});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{status:_});case P:return Object(u.a)(Object(u.a)({},e),{},{status:F});case D:return Object(u.a)(Object(u.a)({},e),{},{data:t.data,totalItems:t.count,status:B,fullData:t.fullData});case E:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case I:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage+1});case T:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage-1});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(u.a)(Object(u.a)({},e),{},{status:J});case L:return Object(u.a)(Object(u.a)({},e),{},{status:U});case W:return Object(u.a)(Object(u.a)({},e),{},{data:t.data,totalItems:t.count,status:q});case M:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case z:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage+1});case G:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage-1});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(u.a)(Object(u.a)({},e),{},{status:ee});case V:return Object(u.a)(Object(u.a)({},e),{},{status:ae});case Q:return Object(u.a)(Object(u.a)({},e),{},{data:t.data,totalItems:t.count,status:te});case Z:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case X:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage+1});case $:return Object(u.a)(Object(u.a)({},e),{},{currentPage:e.currentPage-1});default:return e}}}),oe=Object(l.d)(se,ce(Object(l.a)(re.a))),ie=(a(150),a(151),a(152),a(153),a(5)),le=a(16),ue=a(15),de={setMode:function(e){return{type:d,payload:e}},setColor:function(e){return{type:j,payload:e}},getTheme:function(){return{type:"redux/Theme/GET_THEME"}}},je=a(13),be=a(14),me=a(26),pe=a(0),he=["children"];function Oe(e){var t=e.children,a=Object(me.a)(e,he),n=Object(i.c)((function(e){return e.auth})).user;return Object(pe.jsxs)(ue.b,Object(u.a)(Object(u.a)({},a),{},{children:[" ",n?Object(pe.jsx)(ue.a,{to:"/"}):t," "]}))}a(160);var fe=a(3),xe=a.n(fe),ge=a(4),ve=a(21),ye=a(17),Ne=a.n(ye),ke=a(18),we=a.n(ke),Ae=a(12),Se=a.n(Ae),Ce=a(129);a.n(Ce).a.config();var Pe="http://admin-studiorosid.herokuapp.com";function De(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(ge.a)(xe.a.mark((function e(t,a){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.post("".concat(Pe,"/auth/login"),{email:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return Te.apply(this,arguments)}function Te(){return(Te=Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},a=t.token,e.next=3,Se.a.post("".concat(Pe,"/auth/logout"),null,{headers:{authorization:"Bearer ".concat(a)}}).then((function(e){return localStorage.setItem("auth",[]),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t){return{type:p,user:e,token:t}}var Be={required:{value:!0,message:"Email tidak boleh kosong"},maxLength:{value:255,message:"Panjang email maksimal 255 karakter"}},Fe={required:{value:!0,message:"Password tidak boleh kosong"},maxLength:{value:255,message:"Panjang password maksimal 255 karakter"}};a(186);function Re(e){var t=[e.className];e.isLarge&&t.push("btn-lg"),e.isSmall&&t.push("btn-sm"),e.hasShadow&&t.push("btn-shadow");var a=function(){e.onClick&&e.onClick()};return"link"===e.type?e.isExternal?Object(pe.jsx)("a",{href:e.href,className:t.join(" "),style:e.style,rel:"_blank"===e.target?void 0:"noopener noreferrer",target:"_blank"===e.target?"_blank":void 0,children:e.children}):Object(pe.jsx)(le.b,{to:e.href,className:t.join(" "),style:e.style,onClick:a,children:e.children}):Object(pe.jsx)("button",{className:t.join(" "),style:e.style,onClick:a,type:"".concat(e.submit?"submit":"button"),children:e.children})}var He="data:image/png;base64,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",Le=(a(187),"idle"),We="proccess",Me="success",ze="error",Ge=function(){var e=Object(ve.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors,c=e.setError,s=Object(n.useState)(Le),o=Object(ie.a)(s,2),l=o[0],u=o[1],d=Object(i.b)(),j=we()(Ne.a),b=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,s,o,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,u(We),e.next=4,De(a,n);case 4:if(r=e.sent,!(s=r.data).error){e.next=10;break}return c("password",{type:"invalidCredential",message:s.message}),u(ze),e.abrupt("return");case 10:if("guest"!==s.user.role){e.next=14;break}return c("password",{type:"invalidCredential",message:"Akun tidak memiliki akses!"}),u(ze),e.abrupt("return");case 14:o=s.user,i=s.token,d(_e(o,i)),m(s.message),u(Me);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){j.fire({text:e,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"})};return Object(n.useEffect)((function(){return u(Le),function(){u(Le)}}),[]),Object(pe.jsx)("div",{className:"full-background gradient",children:Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsxs)("form",{onSubmit:a(b),className:"form-login",children:[Object(pe.jsxs)("div",{className:"login__logo",children:[Object(pe.jsx)("img",{src:He,alt:"Logo Studio Rosid"}),Object(pe.jsx)("span",{children:"Studio Rosid"})]}),Object(pe.jsx)("h5",{className:"aggresive-text",children:"Hello there! Sign in and start working today with happiness."}),Object(pe.jsxs)("div",{className:"form-group",children:[Object(pe.jsx)("label",{htmlFor:"email",children:"Email"})," ",Object(pe.jsx)("br",{}),Object(pe.jsx)("input",{type:"email",name:"email",id:"email",ref:t(Be),placeholder:"type a email...",className:"".concat(r.email?"invalid":""," ")}),r.email&&Object(pe.jsxs)("span",{className:"error",children:["*",r.email.message]})]}),Object(pe.jsxs)("div",{className:"form-group",children:[Object(pe.jsx)("label",{htmlFor:"password",children:"Password"})," ",Object(pe.jsx)("br",{}),Object(pe.jsx)("input",{type:"password",name:"password",id:"password",ref:t(Fe),placeholder:"type a password...",className:"".concat(r.password?"invalid":"")}),r.password&&Object(pe.jsxs)("span",{className:"error",children:["*",r.password.message]})]}),Object(pe.jsx)("br",{}),Object(pe.jsx)(Re,{type:"submit",submit:!0,className:"btn btn-lg btn-danger btn-block",disabled:"proccess"===l,children:"Sign In Now"})]}),Object(pe.jsxs)("div",{className:"drops",children:[Object(pe.jsx)("div",{className:"drop drop-1"}),Object(pe.jsx)("div",{className:"drop drop-2"}),Object(pe.jsx)("div",{className:"drop drop-3"}),Object(pe.jsx)("div",{className:"drop drop-4"}),Object(pe.jsx)("div",{className:"drop drop-5"})]})]})})},Je=(a(188),a(96)),qe=function(e){var t=e.active?"active":"";return Object(pe.jsx)("div",{className:"sidebar__item",children:Object(pe.jsxs)("div",{className:"sidebar__item-inner ".concat(t),children:[Object(pe.jsx)("i",{className:e.icon}),Object(pe.jsx)("span",{children:e.title})]})})},Ue=function(e){var t=Object(i.c)((function(e){return e.auth})).user,a=Je.findIndex((function(t){return t.route===e.location.pathname}));return Object(pe.jsxs)("div",{className:"sidebar ".concat(e.sidebar?"minimize":""),children:[Object(pe.jsxs)("div",{className:"sidebar__logo",children:[Object(pe.jsx)("img",{src:He,alt:"company logo"}),Object(pe.jsx)("span",{children:"Studio Rosid"})]}),null!==t&&Je.map((function(e,n){return e.policy.includes(t.role)?Object(pe.jsx)(le.b,{to:e.route,children:Object(pe.jsx)(qe,{title:e.display_name,icon:e.icon,active:n===a})},n):""}))]})},Ye=(a(189),a(190),[{id:"light",name:"Light",background:"light-background",class:"theme-mode-light"},{id:"dark",name:"Dark",background:"dark-background",class:"theme-mode-dark"}]),Ke=[{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"},{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"}],Ve=function(){var e,t,a=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(i.b)();e=a,t=r,document.addEventListener("mousedown",(function(a){t.current&&t.current.contains(a.target)?e.current.classList.toggle("active"):e.current&&!e.current.contains(a.target)&&e.current.classList.remove("active")}));var s=Object(n.useState)("light"),o=Object(ie.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)("blue"),j=Object(ie.a)(d,2),b=j[0],m=j[1];return Object(n.useEffect)((function(){var e=Ye.find((function(e){return e.class===localStorage.getItem("themeMode","theme-mode-light")})),t=Ke.find((function(e){return e.class===localStorage.getItem("colorMode","theme-mode-light")}));void 0!==e&&u(e.id),void 0!==t&&m(t.id)}),[]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("button",{ref:r,className:"dropdown__toggle",onClick:function(){return a.current.classList.add("active")},children:Object(pe.jsx)("i",{className:"bx bx-palette"})}),Object(pe.jsxs)("div",{ref:a,className:"theme-menu",onClick:function(){return a.current.classList.remove("active")},children:[Object(pe.jsx)("h4",{children:"Theme settings"}),Object(pe.jsx)("button",{className:"theme-menu__close",children:Object(pe.jsx)("i",{className:"bx bx-x"})}),Object(pe.jsxs)("div",{className:"theme-menu__select",children:[Object(pe.jsx)("span",{children:"Choose mode"}),Object(pe.jsx)("ul",{className:"mode-list",children:Ye.map((function(e,t){return Object(pe.jsxs)("li",{onClick:function(){return u((t=e).id),localStorage.setItem("themeMode",t.class),void c(de.setMode(t.class));var t},children:[Object(pe.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===l?"active":""),children:Object(pe.jsx)("i",{className:"bx bx-check"})}),Object(pe.jsx)("span",{children:e.name})]},t)}))})]}),Object(pe.jsxs)("div",{className:"theme-menu__select",children:[Object(pe.jsx)("span",{children:"Choose color"}),Object(pe.jsx)("ul",{className:"mode-list",children:Ke.map((function(e,t){return Object(pe.jsxs)("li",{onClick:function(){return m((t=e).id),localStorage.setItem("colorMode",t.class),void c(de.setColor(t.class));var t},children:[Object(pe.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===b?"active":""),children:Object(pe.jsx)("i",{className:"bx bx-check"})}),Object(pe.jsx)("span",{children:e.name})]},t)}))})]})]})]})},Qe=(a(191),function(e){var t,a,r=Object(n.useRef)(null),c=Object(n.useRef)(null);return t=r,a=c,document.addEventListener("mousedown",(function(e){a.current&&a.current.contains(e.target)?t.current.classList.toggle("active"):t.current&&!t.current.contains(e.target)&&t.current.classList.remove("active")})),Object(pe.jsxs)("div",{className:"dropdown",children:[Object(pe.jsxs)("button",{ref:c,className:"dropdown__toggle",children:[e.icon?Object(pe.jsx)("i",{className:e.icon}):"",e.badge?Object(pe.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),Object(pe.jsxs)("div",{ref:r,className:"dropdown__content",children:[e.contentData&&e.renderItems?e.contentData.map((function(t,a){return e.renderItems(t,a)})):"",e.renderFooter?Object(pe.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})}),Ze=a(130),Xe=we()(Ne.a),$e=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth.user})),n=function(){Xe.fire({title:"Do you want to logout?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Logout"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=8;break}return e.next=3,Ie();case 3:n=e.sent,(r=n.data).error&&Xe.fire({text:r.message,icon:"error",confirmButtonText:"OK"}),Xe.fire("Logout",r.message,"success"),t({type:h});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(pe.jsxs)("div",{className:"topnav",children:[Object(pe.jsx)("div",{className:"topnav__bar",children:Object(pe.jsx)(je.a,{icon:be.a,onClick:e.handleSideBar})}),Object(pe.jsxs)("div",{className:"topnav__right",children:[Object(pe.jsx)("div",{className:"topnav__right-item",children:null!==a&&Object(pe.jsx)(Qe,{customToggle:function(){return function(e){return Object(pe.jsxs)("div",{className:"topnav__right-user",children:[Object(pe.jsx)("div",{className:"topnav__right-user__image",children:Object(pe.jsx)("img",{src:"http://admin-studiorosid.herokuapp.com/upload/user/".concat(e.image_url),alt:"foto user"})}),Object(pe.jsx)("div",{className:"topnav__right-user__name",children:e.full_name})]})}(a)},contentData:Ze,renderItems:function(e,t){return function(e,t,a){return"Logout"===!e.content?Object(pe.jsx)(le.b,{to:"/",children:Object(pe.jsxs)("div",{className:"notification-item",children:[Object(pe.jsx)("i",{className:e.icon}),Object(pe.jsx)("span",{children:e.content})]})},t):Object(pe.jsxs)("div",{className:"notification-item",onClick:function(){return a()},children:[Object(pe.jsx)("i",{className:e.icon}),Object(pe.jsx)("span",{children:e.content})]},t)}(e,t,n)}})}),Object(pe.jsx)("div",{className:"topnav__right-item",children:Object(pe.jsx)(Ve,{})})]})]})},et=["children"],tt=function(e){var t=e.children,a=Object(me.a)(e,et),n=Object(i.c)((function(e){return e.auth})).user;return Object(pe.jsxs)(ue.b,Object(u.a)(Object(u.a)({},a),{},{children:[n?t:Object(pe.jsx)(ue.a,{to:"/login"})," "]}))},at=a(9),nt=a(46),rt=a.n(nt),ct=a(79),st=(a(193),function(e){return Object(pe.jsxs)("div",{className:"status-card ".concat(e.color?e.color:""),children:[Object(pe.jsx)("div",{className:"status-card__icon",children:Object(pe.jsx)("i",{className:e.icon})}),Object(pe.jsxs)("div",{className:"status-card__info",children:[Object(pe.jsx)("h4",{children:e.count}),Object(pe.jsx)("span",{children:e.title})]})]})}),ot=a(57);a(113);function it(e){var t=e.filter,a=e.setFilter,r=Object(n.useState)(t),c=Object(ie.a)(r,2),s=c[0],o=c[1],i=Object(ot.useAsyncDebounce)((function(e){a(e||void 0)}),1e3);return Object(pe.jsxs)("div",{className:"table__search",children:[Object(pe.jsx)("input",{type:"text",value:s||"",onChange:function(e){o(e.target.value),i(e.target.value)},placeholder:"search..."}),Object(pe.jsx)("i",{className:"bx bx-search"})]})}a(195),a(196);var lt=a(54),ut=function(e){var t=Object(n.useState)(!1),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=function(e){};e.tableHooks&&(s=e.tableHooks);var o=Object(ot.useTable)({columns:e.columns,data:e.data},s,ot.useGlobalFilter,ot.useSortBy),i=o.getTableProps,l=o.getTableBodyProps,d=o.headerGroups,j=o.rows,b=o.prepareRow,m=o.state,p=o.setGlobalFilter,h=m.globalFilter;Object(n.useEffect)((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}));var O=Object(n.useRef)(null),f=function(e){O&&!O.current.contains(e.target)&&c(!1)};return Object(pe.jsxs)(pe.Fragment,{children:[e.withFeature&&Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-4",children:e.addData&&Object(pe.jsxs)(le.b,{to:e.addData,className:"btn btn-theme",children:[Object(pe.jsx)(je.a,{icon:be.k})," Add Data"]})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsx)("div",{className:"input-date",ref:O,children:e.filterDate&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)("button",{className:"btn btn-theme btn-block",onClick:function(){return c(!r)},children:[Object(pe.jsx)(je.a,{icon:be.b})," Filter Berdasarkan Tanggal"]}),r&&Object(pe.jsx)("div",{className:"date-range-wrapper",children:Object(pe.jsx)(lt.DateRangePicker,{onChange:function(t){return e.filterDate(t)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:1,ranges:e.date})})]})})}),Object(pe.jsx)("div",{className:"col-4 ",children:Object(pe.jsx)(it,{filter:h,setFilter:p})})]}),Object(pe.jsx)("div",{className:"table-wrapper",ref:e.withFeature?null:O,children:Object(pe.jsxs)("table",Object(u.a)(Object(u.a)({},i()),{},{children:[Object(pe.jsx)("thead",{children:d.map((function(e){return Object(pe.jsx)("tr",Object(u.a)(Object(u.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(pe.jsxs)("th",Object(u.a)(Object(u.a)({},e.getHeaderProps([{className:e.className},e.getSortByToggleProps()])),{},{children:[e.render("Header"),Object(pe.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(pe.jsx)("tbody",Object(u.a)(Object(u.a)({},l()),{},{children:j.map((function(e,t){return b(e),Object(pe.jsx)("tr",Object(u.a)(Object(u.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(pe.jsx)("td",Object(u.a)(Object(u.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})]})},dt=(a(211),function(e){return Object(pe.jsx)("span",{className:"badge badge-".concat(e.type),onClick:e.onClick,children:e.content})});function jt(){return bt.apply(this,arguments)}function bt(){return(bt=Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},a=t.token,e.next=3,Se.a.get("".concat(Pe,"/api/dashboard"),{headers:{authorization:"Bearer ".concat(a)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=a(139),pt=Object(mt.a)("ws://admin-studiorosid.herokuapp.com",{autoConnect:!0,pingTimeout:3e4,reconnection:!0,reconnectionDelayMax:1e4,transports:["websocket"],allowUpgrades:!1,forceNew:!0}),ht={preparing:"primary",delivery:"warning",done:"success",refund:"danger"},Ot={waiting_payment:"warning",done:"success"},ft={waiting_payment:"waiting",done:"done"},xt=function(){var e=Object(n.useState)(0),t=Object(ie.a)(e,2),a=t[0],r=t[1],c=Object(i.c)((function(e){return e.theme.mode})),s=new Date,o=s.toLocaleString("default",{month:"long"}),l=s.getFullYear(),d=Object(n.useState)([]),j=Object(ie.a)(d,2),b=j[0],m=j[1],p=Object(n.useState)([]),h=Object(ie.a)(p,2),O=h[0],f=h[1],x=Object(n.useState)([]),g=Object(ie.a)(x,2),v=g[0],y=g[1],N=Object(n.useState)({series:[{name:"Penjualan",data:[10,10]}],options:{color:["#6ab04c","#2980b9"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},colors:["#00BAEC"],fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},xaxis:{categories:[1,2]},legend:{position:"top"},grid:{show:!1}}}),k=Object(ie.a)(N,2),w=k[0],A=k[1],S=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt();case 2:if(t=e.sent,!(n=t.data).error){e.next=6;break}return e.abrupt("return");case 6:m(n.latestOrders),f(n.topProducts),y([{icon:"bx bx-cart",count:a,title:"Daily visits"},{icon:"bx bx-dollar-circle",count:"Rp. ".concat(n.grandTotal),title:"Total income"},{icon:"bx bx-receipt",count:n.totalOrders,title:"Total orders"}]),r(n.customerCount),A({series:[{name:"Penjualan",data:n.orders.totalOrdersChart.map((function(e){return e.totalAmount}))},{name:"Order",data:n.orders.sumOrdersChart.map((function(e){return e.count}))}],options:{color:["#6ab04c","#2980b9"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},colors:["#00BAEC"],fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},xaxis:{categories:n.orders.totalOrdersChart.map((function(e){return e._id.slice(8,10)}))},legend:{position:"top"},grid:{show:!1}}});case 11:case"end":return e.stop()}}),e)}))),[a]),C=Object(n.useMemo)((function(){return[{Header:"Name",accessor:"_id"},{Header:"Jumlah",accessor:"qty"}]}),[]),P=Object(n.useMemo)((function(){return Object(at.a)(O)}),[O]),D=Object(n.useMemo)((function(){return Object(at.a)(b.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{order_items:e.order_items.map((function(e){return"".concat(e.name," ").concat(e.variant?"("+e.variant+")":""," x ").concat(e.qty)}))})})))}),[b]),E=Object(n.useMemo)((function(){return[{Header:"Order No",accessor:"order_number",maxWidth:10,widht:5},{Header:"Order Items",accessor:"order_items",Cell:function(e){return e.value.map((function(e,t){return Object(pe.jsxs)("span",{children:["".concat(e),Object(pe.jsx)("br",{})]},t)}))},maxWidth:100,widht:50},{Header:"Customer",accessor:"user.full_name"},{Header:"No Table",accessor:"notable"},{Header:"Tanggal",accessor:"createdAt",Cell:function(e){var t=e.value;return Object(ct.default)(new Date(t),"dd-MMM HH:mm ")}},{Header:"Status Pay",accessor:"status_payment",Cell:function(e){var t=e.value;return Object(pe.jsx)(dt,{type:Ot[t],content:ft[t]})}},{Header:"Proggres Order",accessor:"status_order",Cell:function(e){var t=e.value;return Object(pe.jsx)(dt,{type:ht[t],content:t})}}]}),[]);return Object(n.useEffect)((function(){return S(),pt.on("thisNewOrder",(function(e){S()})),pt.on("customerCount",(function(e){r(e.customerCount)})),function(){pt.off("thisNewOrder",(function(e){console.log("socket off"+e)})),pt.off("customerCount",(function(e){console.log("socket off"+e)}))}}),[S]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)("h2",{className:"page-header",children:["Dashboard | ","".concat(o,"-").concat(l)]}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-8 col-md-12",children:Object(pe.jsxs)("div",{className:"row",children:[v.map((function(e,t){return Object(pe.jsx)("div",{className:"col-4 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:e.icon,count:e.count,title:e.title})},t)})),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsx)("div",{className:"card full-height",children:w&&Object(pe.jsx)(rt.a,{options:"theme-mode-dark"===c?Object(u.a)(Object(u.a)({},w.options),{},{theme:{mode:"dark"}}):Object(u.a)(Object(u.a)({},w.options),{},{theme:{mode:"light"}}),series:w.series,height:"270",type:"area"})})})]})}),Object(pe.jsx)("div",{className:"col-4 col-md-12",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__header",children:Object(pe.jsx)("h4",{children:"Top Sales Product"})}),Object(pe.jsx)("div",{className:"card__body",children:O.length>0&&Object(pe.jsx)(ut,{columns:C,data:P})})]})})]}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-12 col-md-12",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__header",children:Object(pe.jsx)("h4",{children:"Latest Order"})}),Object(pe.jsx)("div",{className:"card__body",children:b.length>0&&Object(pe.jsx)(ut,{columns:E,data:D})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(le.b,{to:"/orders",children:"View All"})})]})})})]})};function gt(){return(gt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/allOrders"),{headers:{authorization:"Bearer ".concat(n)},params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/getOrdersByID/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/orders/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return At.apply(this,arguments)}function At(){return(At=Object(ge.a)(xe.a.mark((function e(t,a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},r=n.token,e.next=3,Se.a.put("".concat(Pe,"/api/orders/").concat(t),a,{headers:{authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/ordersPayment/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.delete("".concat(Pe,"/api/orders/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=a(47),It=a.n(Et),Tt=function(e){var t=e.data,a=e.count,n=e.fullData;return{type:g,data:t,count:a,fullData:n}},_t=It()((function(e){return gt.apply(this,arguments)}),500),Bt=function(e){var t,a;return e&&(t=e[0].startDate,a=e[0].endDate),function(){var e=Object(ge.a)(xe.a.mark((function e(n,r){var c,s,o,i,l,u,d,j;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:f}),c=r().orders.perPage||2,s=r().orders.currentPage||1,o={limit:c,skip:s*c-c,startDate:t,endDate:a},e.prev=4,e.next=7,_t(o);case 7:return i=e.sent,l=i.data,u=l.data,d=l.count,e.next=13,_t({startDate:t,endDate:a});case 13:j=e.sent,n(Tt({data:u,count:d,fullData:j.data.data})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n({type:x});case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t,a){return e.apply(this,arguments)}}()},Ft=a(134),Rt=a(135),Ht="...",Lt=function(e,t){var a=t-e+1;return Array.from({length:a},(function(t,a){return a+e}))};a(215);function Wt(e){var t=e.totalItems,a=e.page,r=e.perPage,c=e.onChange,s=e.onNext,o=e.onPrev,i=e.siblingCount,l=function(e){var t=e.totalItems,a=e.perPage,r=e.siblingCount,c=void 0===r?1:r,s=e.page;return Object(n.useMemo)((function(){var e=Math.ceil(t/a);if(c+5>=e)return Lt(1,e);var n=Math.max(s-c,1),r=Math.min(s+c,e),o=n>2,i=r<e-2,l=1,u=e;if(!o&&i){var d=Lt(1,3+2*c);return[].concat(Object(at.a)(d),[Ht,e])}if(o&&!i){var j=Lt(e-(3+2*c)+1,e);return[l,Ht].concat(Object(at.a)(j))}if(o&&i){var b=Lt(n,r);return[l,Ht].concat(Object(at.a)(b),[Ht,u])}}),[t,a,c,s])}({page:a,totalItems:t,siblingCount:void 0===i?0:i,perPage:r});return 0===a||l.length<2?null:Object(pe.jsxs)("div",{className:"pagination:container",children:[Object(pe.jsx)("button",{disabled:a===l.firstPage,className:"pagination:number arrow",onClick:function(){return o()},children:Object(pe.jsx)(je.a,{icon:be.f})}),l&&l.map((function(e){return e===Ht?Object(pe.jsx)("div",{className:"pagination:number dots",children:"..."},e):Object(pe.jsx)("div",{className:"pagination:number ".concat(a===e?"pagination:active":""),onClick:function(){return c(e)},children:e},e)})),Object(pe.jsx)("button",{disabled:a===l.lastPage,className:"pagination:number arrow",onClick:function(){return s()},children:Object(pe.jsx)(je.a,{icon:be.g})})]})}a(216);var Mt=function(e){var t=Object(n.useCallback)((function(t){27===(t.charCode||t.keyCode)&&e.onClose()}),[e]);return Object(n.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[t]),Object(pe.jsx)("div",{className:"modal ".concat(e.show?"enter-done":""),onClick:function(){return e.onClose()},children:Object(pe.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(pe.jsx)("div",{className:"modal-header",children:Object(pe.jsx)("h4",{className:"modal-title",children:e.title})}),Object(pe.jsx)("div",{className:"modal-body",children:e.children}),Object(pe.jsxs)("div",{className:"modal-footer",children:[Object(pe.jsx)(Re,{className:"btn",onClick:function(){return e.onClose()},children:"Cancel"}),e.onSave&&Object(pe.jsx)(Re,{className:"btn btn-theme",onClick:function(){return e.onSave()},children:"Simpan"})]})]})})},zt={preparing:"primary",delivery:"warning",delivered:"success"},Gt={waiting_payment:"warning",done:"success"},Jt={waiting_payment:"waiting",done:"done"},qt=new Date,Ut=new Date,Yt=function(){var e=Object(i.b)(),t=Object(n.useState)(!1),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(ie.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(),b=Object(ie.a)(j,2),m=b[0],p=b[1],h=Object(n.useState)(),O=Object(ie.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(!1),k=Object(ie.a)(g,2),w=k[0],A=k[1],S=Object(n.useState)([{startDate:new Date(qt.setHours(0,0,0)),endDate:new Date(Ut.setHours(23,59,59)),key:"selection"}]),C=Object(ie.a)(S,2),P=C[0],D=C[1],E=we()(Ne.a),I=Object(i.c)((function(e){return e.orders})),T=Object(i.c)((function(e){return e.auth.user})),_=Object(n.useMemo)((function(){return Object(at.a)(I.data.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{order_items:e.order_items.map((function(e){return"".concat(e.name," ").concat(e.variant?"("+e.variant+")":""," x ").concat(e.qty)}))})})))}),[I.data]),B=Object(n.useMemo)((function(){return[{Header:"Order No",accessor:"order_number",maxWidth:10,widht:5},{Header:"Order Items",accessor:"order_items",Cell:function(e){return e.value.map((function(e,t){return Object(pe.jsxs)("span",{children:["".concat(e),Object(pe.jsx)("br",{})]},t)}))},maxWidth:100,widht:50},{Header:"Customer",accessor:"user.full_name"},{Header:"No Table",accessor:"notable"},{Header:"Tanggal",accessor:"createdAt",Cell:function(e){var t=e.value;return Object(ct.default)(new Date(t),"dd-MMM HH:mm ")}},{Header:"Status Pay",accessor:"status_payment",Cell:function(e){var t=e.value;return Object(pe.jsx)(dt,{type:Gt[t],content:Jt[t]})}},{Header:"Proggres Order",accessor:"status_order",Cell:function(e){var t=e.value;return Object(pe.jsx)(dt,{type:zt[t],content:t})}}]}),[]),F=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Nt(t);case 3:if(a=e.sent,!(n=a.data).error){e.next=8;break}return console.log(n.error),e.abrupt("return");case 8:d(n),p(n.status_payment),x(n.status_order);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t,a){var n,r,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l._id,r={status_payment:t,status_order:a},e.next=4,wt(n,r);case 4:if(!(s=e.sent).error){e.next=8;break}return console.log(s.error),e.abrupt("return");case 8:c(!1),A(!0);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[l]),H=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.fire({title:"Do you want to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Delete"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=7;break}return e.next=3,Pt(t);case 3:(n=e.sent).error&&E.fire({text:n.message,icon:"error",confirmButtonText:"OK"}),E.fire("Deleted!",n.message,"success"),A(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E]);return Object(n.useEffect)((function(){return e(Bt(P)),A(!1),pt.on("thisNewOrder",(function(t){e(Bt(P))})),pt.on("updateOrder",(function(t){e(Bt(P))})),function(){pt.off("thisNewOrder",(function(e){console.log("socket off "+e)})),pt.off("updateOrder",(function(e){console.log("socket update order off "+e)}))}}),[e,I.currentPage,w,P]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Orders"}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:I.totalItems,title:"Total Orders"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:I.fullData.filter((function(e){return"preparing"===e.status_order})).length,title:"Preparing",color:"blue"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:I.fullData.filter((function(e){return"delivery"===e.status_order})).length,title:"Delivery",color:"orange"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:I.fullData.filter((function(e){return"delivered"===e.status_order})).length,title:"Delivered",color:"green"})})]}),Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsx)(ut,{columns:B,data:_,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(at.a)(e),[{id:"Action",Header:"Action",Cell:function(e){var t=e.row;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{onClick:function(){return F(t.original._id)},type:"success",content:"edit"})," ","admin"===T.role&&Object(pe.jsx)(dt,{onClick:function(){return H(t.original._id)},type:"danger",content:"delete"})]})}}])}))},withFeature:!0,filterDate:function(e){D([e.selection])},date:P})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(Wt,{totalItems:I.totalItems,page:I.currentPage,perPage:I.perPage,onChange:function(t){return e(function(){return{type:v,currentPage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}(t))},onNext:function(t){return e({type:y})},onPrev:function(t){return e({type:N})}})})]}),Object(pe.jsxs)(Mt,{show:r,onClose:function(){return c(!1)},title:"Edit Data Order",onSave:function(){return R(m,f)},children:["kitchen"!==T.role&&"waiter"!==T.role&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h3",{children:"Status Pay"}),Object(pe.jsx)("div",{className:"payment-option",children:Rt.map((function(e,t){return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("input",{type:"radio",name:"status_payment",value:e.name,id:e.name,checked:e.name===m,onChange:function(){return p(e.name)}}),Object(pe.jsx)("label",{className:e.color,htmlFor:e.name,children:e.name})]},t)}))})]}),Object(pe.jsx)("h3",{children:"Progress Order"}),Object(pe.jsx)("div",{className:"payment-option",children:Ft.map((function(e,t){return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("input",{type:"radio",name:"status_order",value:e.name,id:e.name,checked:e.name===f,disabled:!e.policy.includes(T.role),onChange:function(){return x(e.name)}}),Object(pe.jsx)("label",{className:e.color,htmlFor:e.name,children:e.name})]},t)}))})]})]})};function Kt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.post("".concat(Pe,"/api/products"),t,{headers:{authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/products"),{headers:{authorization:"Bearer ".concat(n)},params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/products/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(ge.a)(xe.a.mark((function e(t,a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},r=n.token,e.next=3,Se.a.put("".concat(Pe,"/api/products/").concat(t),a,{headers:{authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e){return na.apply(this,arguments)}function na(){return(na=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.delete("".concat(Pe,"/api/products/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=function(e){var t=e.data,a=e.count,n=e.fullData;return{type:D,data:t,count:a,fullData:n}},ca=It()(Qt,500);function sa(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.post("".concat(Pe,"/api/categories"),t,{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e){return la.apply(this,arguments)}function la(){return(la=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/categories"),{headers:{authorization:"Bearer ".concat(n)},params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){return da.apply(this,arguments)}function da(){return(da=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/categories/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){return ba.apply(this,arguments)}function ba(){return(ba=Object(ge.a)(xe.a.mark((function e(t,a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},r=n.token,e.next=3,Se.a.put("".concat(Pe,"/api/categories/").concat(t),a,{headers:{authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e){return pa.apply(this,arguments)}function pa(){return(pa=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.delete("".concat(Pe,"/api/categories/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha="data:image/png;base64,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",Oa={required:{value:!0,message:"Nama Product tidak boleh kosong"},maxLength:{value:50,message:"Panjang nama product maksimal 50 karakter"}},fa={required:{value:!0,message:"Isi Price"}},xa={required:{value:!0,message:"Pilih Stock"}},ga={required:{value:!0,message:"Deskripsi Product tidak boleh kosong"},maxLength:{value:350,message:"Panjang nama product maksimal 350 karakter"}},va={required:{value:!0,message:"Category tidak boleh kosong"}},ya={required:{value:!0,message:"image tidak boleh kosong"}},Na=["id","type","image"],ka="idle",wa="proccess",Aa="success",Sa="error",Ca={_id:"",name:"",price:0,stock:"",description:"",image:ha,category:""},Pa=function(){var e=Object(i.b)(),t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(ie.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(ka),l=Object(ie.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(!1),m=Object(ie.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)([]),f=Object(ie.a)(O,2),x=f[0],g=f[1],v=Object(n.useState)(ha),y=Object(ie.a)(v,2),N=y[0],k=y[1],w=Object(n.useState)(Ca),A=Object(ie.a)(w,2),S=A[0],D=A[1],_=we()(Ne.a),B=Object(i.c)((function(e){return e.products})),F=Object(ve.a)(),R=F.register,H=F.handleSubmit,L=F.formState.errors,W=F.setError,M=Object(n.useMemo)((function(){return Object(at.a)(B.data.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{no:t+1})})))}),[B]),z=Object(n.useMemo)((function(){return[{Header:"No",accessor:"no"},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Description",accessor:"description",className:"table-image",Cell:function(e){var t=e.value;return Object(pe.jsx)("p",{children:t.split(" ").slice(0,15).join(" ")+"... "})}},{Header:"Stock",accessor:"stock"},{Header:"Category",accessor:"category",Cell:function(e){var t=e.value;return Object(pe.jsx)("div",{className:"pill pill-".concat(t.color," active"),children:t.name})}},{Header:"Image",accessor:"image_url",Cell:function(e){var t=e.value;return Object(pe.jsx)("img",{src:void 0!==t?"http://admin-studiorosid.herokuapp.com/upload/".concat(t):ha,style:{maxWidth:70},alt:t})}}]}),[]),G=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.fire({title:"Do you want to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Delete"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=7;break}return e.next=3,aa(t);case 3:(n=e.sent).error&&_.fire({text:n.message,icon:"error",confirmButtonText:"OK"}),_.fire("Deleted!",n.message,"success"),s(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_]),J=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Xt(t);case 3:if(a=e.sent,!(n=a.data).error){e.next=8;break}return console.log(n.error),e.abrupt("return");case 8:D(Object(u.a)(Object(u.a)({},n),{},{category:n.category.name}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s,o,i,l;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(wa),a=new FormData,n=t.id,r=t.type,c=t.image,s=Object(me.a)(t,Na),o=Object.keys(s),i=Object.values(s),"true"===r?a.append("type",!0):a.append("type",!1),a.append("image",c[0]),o.forEach((function(e,t){a.append(e,i[t])})),e.next=10,ea(n,a);case 10:(l=e.sent).error?(W("name",{message:l.message}),j(Sa)):(U("Berhasil Menambah Data!"),j(Aa));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){_.fire({text:e,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(e){e.isConfirmed&&(D(Ca),h(!1),s(!0))}))},Y=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia();case 2:if(t=e.sent,!(a=t.data).error){e.next=7;break}return console.log(a.message),e.abrupt("return");case 7:g(a.data);case 8:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){return e(function(){var e=Object(ge.a)(xe.a.mark((function e(t,a){var n,r,c,s,o,i,l,u;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),n=a().products.perPage||2,r=a().products.currentPage||1,c={limit:n,skip:r*n-n},e.prev=4,e.next=7,ca(c);case 7:return s=e.sent,o=s.data,i=o.data,l=o.count,e.next=13,ca();case 13:u=e.sent,t(ra({data:i,count:l,fullData:u.data.data})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),t({type:P});case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t,a){return e.apply(this,arguments)}}()),Y(),s(!1),function(){return s(!1)}}),[e,B.currentPage,c,Y]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Products"}),B.fullData&&Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:B.totalItems,title:"Total Products"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:B.fullData.filter((function(e){return"in stock"===e.stock})).length,title:"In Stock",color:"blue"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:B.fullData.filter((function(e){return"out of stock"===e.stock})).length,title:"Out of Stock",color:"orange"})})]}),Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsx)(ut,{columns:z,data:M,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(at.a)(e),[{id:"Action",Header:"Action",Cell:function(e){var t=e.row;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{type:"success",content:"edit",onClick:function(){return J(t.original._id)}})," ",Object(pe.jsx)(dt,{type:"danger",content:"delete",onClick:function(){return G(t.original._id)}})]})}}])}))},addData:"/products/add",withFeature:!0})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(Wt,{totalItems:B.totalItems,page:B.currentPage,perPage:B.perPage,onChange:function(t){return e(function(){return{type:E,currentPage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}(t))},onNext:function(t){return e({type:I})},onPrev:function(t){return e({type:T})}})})]}),Object(pe.jsx)(Mt,{show:p,onClose:function(){return h(!1)},title:"Edit Data Product",onSave:function(){return t.current.click()},children:Object(pe.jsxs)("form",{onSubmit:H(q),children:[Object(pe.jsx)("input",{type:"hidden",name:"id",value:S._id,ref:R()}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-7",children:[Object(pe.jsxs)("div",{className:"input",children:[L.name&&Object(pe.jsxs)("span",{className:"error",children:["*",L.name.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:R(Oa),name:"name",value:S.name,onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{name:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Product Name"})]}),Object(pe.jsxs)("div",{className:"input input-price",children:[L.price&&Object(pe.jsxs)("span",{className:"error",children:["*",L.price.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:R(fa),name:"price",value:S.price,onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{price:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Price"})]}),Object(pe.jsxs)("div",{className:"input",children:[L.stock&&Object(pe.jsxs)("span",{className:"error",children:["*",L.stock.message]}),Object(pe.jsxs)("div",{className:"list-colors",children:[Object(pe.jsx)("div",{className:"pill pill-stock  ".concat("in stock"===S.stock?"active":""),onClick:function(){return D(Object(u.a)(Object(u.a)({},S),{},{stock:"in stock"}))},children:"in stock"},"in stock"),Object(pe.jsx)("div",{className:"pill pill-stock  ".concat("out of stock"===S.stock?"active":""),onClick:function(){return D(Object(u.a)(Object(u.a)({},S),{},{stock:"out of stock"}))},children:"out of stock"},"out of stock")]}),Object(pe.jsx)("label",{htmlFor:"stock",children:"Stock Product"}),Object(pe.jsx)("input",{value:S.stock,type:"hidden",name:"stock",ref:R(xa)})]}),Object(pe.jsxs)("div",{className:"input",children:[L.description&&Object(pe.jsxs)("span",{className:"error",children:["*",L.description.message]}),Object(pe.jsx)("textarea",{type:"text",ref:R(ga),className:"input-field",name:"description",value:S.description,onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{description:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Description"})]})]}),Object(pe.jsxs)("div",{className:"col-5",children:[Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"file",name:"image",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(k(t.result),D(Object(u.a)(Object(u.a)({},S),{},{image_url:null})))},t.readAsDataURL(e.target.files[0])}(e)},ref:R()}),Object(pe.jsx)("label",{className:"input-label",children:"Image Product"})]}),Object(pe.jsx)("div",{className:"image-preview",children:Object(pe.jsx)("img",{src:void 0!==S.image_url?"http://admin-studiorosid.herokuapp.com/upload/".concat(S.image_url):N,alt:"",style:{maxWidth:150}})}),Object(pe.jsxs)("div",{className:"input input-price",children:[Object(pe.jsx)("input",{type:"text",className:"input-field",ref:R(),name:"rating",value:S.rating,onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{rating:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Rating"})]}),Object(pe.jsxs)("div",{className:"input",children:[L.category&&Object(pe.jsxs)("span",{className:"error",children:["*",L.category.message]}),Object(pe.jsx)("div",{className:"list-colors",children:x&&x.map((function(e,t){return Object(pe.jsx)("div",{className:"pill pill-".concat(e.color," active ").concat(e.name===S.category?"focus":""),onClick:function(){return D(Object(u.a)(Object(u.a)({},S),{},{category:e.name}))},children:e.name},t)}))}),("coffe"===S.category||"tea"===S.category)&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("label",{className:"input-label",children:"Variant Hot or Ice"}),Object(pe.jsxs)("div",{style:{display:"flex",width:"30%"},children:[Object(pe.jsxs)("label",{htmlFor:"type",style:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(pe.jsx)("input",{type:"radio",name:"type",id:"type",value:"true",ref:R(),checked:!0===S.type,onClick:function(){D(Object(u.a)(Object(u.a)({},S),{},{type:!0}))}}),"Ya"]}),Object(pe.jsxs)("label",{htmlFor:"type",style:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(pe.jsx)("input",{type:"radio",name:"type",id:"type",value:"false",ref:R(),checked:!1===S.type,onClick:function(){D(Object(u.a)(Object(u.a)({},S),{},{type:!1}))}}),"Tidak"]})]})]}),Object(pe.jsx)("label",{htmlFor:"category",children:"Category"}),Object(pe.jsx)("input",{value:S.category,type:"hidden",name:"category",ref:R(va),onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{category:e.target.value}))}})]})]})]}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme btn-lg",disabled:"proccess"===d,ref:t,style:{display:"none"},children:"Add Data"})]})})]})},Da=["image","type"],Ea="idle",Ia="proccess",Ta="success",_a="error";var Ba=function(){var e=Object(ue.g)(),t=Object(n.useState)([]),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(ie.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)(Ea),p=Object(ie.a)(m,2),h=p[0],O=p[1],f=Object(n.useState)(ha),x=Object(ie.a)(f,2),g=x[0],v=x[1],y=Object(ve.a)(),N=y.register,k=y.handleSubmit,w=y.formState.errors,A=y.setError,S=we()(Ne.a),C=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s,o,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Ia),a=new FormData,n=t.image,r=t.type,c=Object(me.a)(t,Da),s=Object.keys(c),o=Object.values(c),"true"===r?a.append("type",!0):a.append("type",!1),a.append("image",n[0]),s.forEach((function(e,t){a.append(e,o[t])})),e.next=10,Kt(a);case 10:(i=e.sent).error?(A("name",{message:i.message}),O(_a)):(P("Berhasil Menambah Data!"),O(Ta));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(t){S.fire({text:t,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(t){t.isConfirmed&&e.push("/products")}))},D=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia();case 2:if(t=e.sent,!(a=t.data).error){e.next=7;break}return console.log(a.message),e.abrupt("return");case 7:c(a.data);case 8:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){return D(),O(Ea),function(){O(Ea)}}),[D]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h2",{children:"Add Products"}),Object(pe.jsx)("div",{className:"card",children:Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsxs)("form",{onSubmit:k(C),children:[Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-5",children:[Object(pe.jsxs)("div",{className:"input",children:[w.name&&Object(pe.jsxs)("span",{className:"error",children:["*",w.name.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:N(Oa),name:"name"}),Object(pe.jsx)("label",{className:"input-label",children:"Product Name"})]}),Object(pe.jsxs)("div",{className:"input input-price",children:[w.price&&Object(pe.jsxs)("span",{className:"error",children:["*",w.price.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:N(fa),name:"price"}),Object(pe.jsx)("label",{className:"input-label",children:"Price"})]}),Object(pe.jsxs)("div",{className:"input",children:[w.stock&&Object(pe.jsxs)("span",{className:"error",children:["*",w.stock.message]}),Object(pe.jsxs)("div",{className:"list-colors",children:[Object(pe.jsx)("div",{className:"pill pill-stock  ".concat("in stock"===j?"active":""),onClick:function(){return b("in stock")},children:"in stock"},"in stock"),Object(pe.jsx)("div",{className:"pill pill-stock  ".concat("out of stock"===j?"active":""),onClick:function(){return b("out of stock")},children:"out of stock"},"out of stock")]}),Object(pe.jsx)("label",{htmlFor:"stock",children:"Stock Product"}),Object(pe.jsx)("input",{value:j,type:"hidden",name:"stock",ref:N(xa)})]}),Object(pe.jsxs)("div",{className:"input",children:[w.description&&Object(pe.jsxs)("span",{className:"error",children:["*",w.description.message]}),Object(pe.jsx)("textarea",{type:"text",ref:N(ga),className:"input-field",name:"description"}),Object(pe.jsx)("label",{className:"input-label",children:"Description"})]})]}),Object(pe.jsxs)("div",{className:"col-7",children:[Object(pe.jsxs)("div",{className:"input",children:[w.image&&Object(pe.jsxs)("span",{className:"error",children:["*",w.image.message]}),Object(pe.jsx)("input",{type:"file",name:"image",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&v(t.result)},t.readAsDataURL(e.target.files[0])}(e)},ref:N(ya)}),Object(pe.jsx)("label",{className:"input-label",children:"Image Product"})]}),Object(pe.jsx)("div",{className:"image-preview",children:Object(pe.jsx)("img",{src:g,alt:"",style:{maxWidth:150}})}),Object(pe.jsxs)("div",{className:"input",children:[w.category&&Object(pe.jsxs)("span",{className:"error",children:["*",w.category.message]}),Object(pe.jsx)("div",{className:"list-colors",children:r&&r.map((function(e,t){return Object(pe.jsx)("div",{className:"pill pill-".concat(e.color," active ").concat(e.name===i?"focus":""),onClick:function(){return l(e.name)},children:e.name},t)}))}),Object(pe.jsx)("label",{htmlFor:"category",children:"Category"}),Object(pe.jsx)("input",{value:i,type:"hidden",name:"category",ref:N(va)})]}),("coffe"===i||"tea"===i)&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("label",{className:"input-label",children:"Variant Hot or Ice"}),Object(pe.jsxs)("div",{style:{display:"flex",width:"30%"},children:[Object(pe.jsxs)("label",{htmlFor:"type",style:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(pe.jsx)("input",{type:"radio",name:"type",id:"type",value:"true",ref:N()}),"Ya"]}),Object(pe.jsxs)("label",{htmlFor:"type",style:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(pe.jsx)("input",{type:"radio",name:"type",id:"type",value:"false",ref:N()}),"Tidak"]})]})]})]})]}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme btn-lg",disabled:"proccess"===h,children:"Add Data"})]})})})]})},Fa=function(e){var t=e.data,a=e.count;return{type:W,data:t,count:a}},Ra=It()(ia,500),Ha=a(83),La={required:{value:!0,message:"Email tidak boleh kosong"},maxLength:{value:255,message:"Panjang email maksimal 255 karakter"}},Wa={required:{value:!0,message:"Warna tidak boleh kosong"}},Ma={_id:"",name:"",color:""},za="idle",Ga="proccess",Ja="success",qa="error";var Ua=function(){var e=Object(i.b)(),t=Object(n.useRef)(),a=Object(n.useState)(Ma),r=Object(ie.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(za),l=Object(ie.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(!1),m=Object(ie.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(!1),f=Object(ie.a)(O,2),x=f[0],g=f[1],v=we()(Ne.a),y=Object(ve.a)(),N=y.register,k=y.handleSubmit,w=y.formState.errors,A=y.setError,S=Object(i.c)((function(e){return e.categories})),C=Object(n.useMemo)((function(){return Object(at.a)(S.data.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{no:t+1})})))}),[S]),P=Object(n.useMemo)((function(){return[{Header:"No",accessor:"no"},{Header:"Name",accessor:"name"},{Header:"Color",accessor:"color",Cell:function(e){var t=e.value;return Object(pe.jsx)(dt,{type:t,content:t})}}]}),[]),D=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,ua(t);case 3:if(a=e.sent,!(n=a.data).error){e.next=8;break}return console.log(n.error),e.abrupt("return");case 8:s(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.fire({title:"Do you want to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Delete"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=7;break}return e.next=3,ma(t);case 3:(n=e.sent).error&&v.fire({text:n.message,icon:"error",confirmButtonText:"OK"}),v.fire("Deleted!",n.message,"success"),h(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]),I=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.name,r=t.color,j(Ga),c={name:n,color:r},e.next=5,ja(a,c);case 5:(s=e.sent).error?(A("name",{message:s.message}),j(qa)):(T("Berhasil Mengubah Data"),j(Ja));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){v.fire({text:e,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(e){e.isConfirmed&&(s(Ma),g(!1),h(!0))}))};return Object(n.useEffect)((function(){e(function(){var e=Object(ge.a)(xe.a.mark((function e(t,a){var n,r,c,s,o,i,l;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:H}),n=a().categories.perPage||2,r=a().categories.currentPage||1,c={limit:n,skip:r*n-n},e.prev=4,e.next=7,Ra(c);case 7:s=e.sent,o=s.data,i=o.data,l=o.count,t(Fa({data:i,count:l})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t({type:L});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,a){return e.apply(this,arguments)}}()),h(!1)}),[e,S.currentPage,p]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Categories"}),Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsx)(ut,{columns:P,data:C,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(at.a)(e),[{id:"Action",Header:"Action",Cell:function(e){var t=e.row;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{onClick:function(){return D(t.original._id)},type:"success",content:"edit"})," ",Object(pe.jsx)(dt,{onClick:function(){return E(t.original._id)},type:"danger",content:"delete"})]})}}])}))},addData:"/categories/add",withFeature:!0})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(Wt,{totalItems:S.totalItems,page:S.currentPage,perPage:S.perPage,onChange:function(t){return e(function(){return{type:M,currentPage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}(t))},onNext:function(t){return e({type:z})},onPrev:function(t){return e({type:G})}})})]}),Object(pe.jsx)(Mt,{show:x,onClose:function(){return g(!1)},title:"Edit Data Category",onSave:function(){return t.current.click()},children:Object(pe.jsxs)("form",{onSubmit:k(I),children:[Object(pe.jsx)("input",{type:"hidden",name:"id",id:"id",value:c._id,ref:N()}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-sm-12 col-md-6 col-4",children:Object(pe.jsxs)("div",{className:"input",children:[w.name&&Object(pe.jsxs)("span",{className:"error",children:["*",w.name.message]}),Object(pe.jsx)("input",{type:"text",name:"name",id:"name",className:"input-field",value:c.name,onChange:function(e){return s(Object(u.a)(Object(u.a)({},c),{},{name:e.target.value}))},ref:N(La)}),Object(pe.jsx)("label",{className:"input-label",children:"Category"})]})})}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsxs)("div",{className:"col-sm-12 col-md-8 col-8",children:[Object(pe.jsx)("h4",{children:"Select Color"}),Object(pe.jsxs)("div",{className:"list-colors",children:[Ha.map((function(e,t){return Object(pe.jsx)("div",{className:"pill pill-".concat(e.color," ").concat(e.color===c.color?"active":""),onClick:function(){return s(Object(u.a)(Object(u.a)({},c),{},{color:e.color}))},children:e.color},t)})),Object(pe.jsx)("input",{value:c.color,type:"hidden",name:"color",id:"color",ref:N(Wa)}),w.color&&Object(pe.jsxs)("span",{className:"error",children:["*",w.color.message]})]})]})}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme",disabled:"proccess"===d,ref:t,style:{display:"none"},children:"Add Data"})]})})]})},Ya={name:"",color:""},Ka="idle",Va="proccess",Qa="success",Za="error";var Xa=function(){var e=Object(ue.g)(),t=Object(n.useState)(Ya),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(Ka),o=Object(ie.a)(s,2),i=o[0],l=o[1],d=Object(ve.a)(),j=d.register,b=d.handleSubmit,m=d.formState.errors,p=d.setError,h=we()(Ne.a),O=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.color,l(Va),r={name:a,color:n},e.next=5,sa(r);case 5:(s=e.sent).error?(p("name",{message:s.message}),l(Za)):(f("Berhasil Menambah Data"),l(Qa),c(Ya));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(t){h.fire({text:t,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(t){t.isConfirmed&&e.push("/categories")}))};return Object(n.useEffect)((function(){return l(Ka),function(){return l(Ka)}}),[]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h2",{children:"Add Data Category"}),Object(pe.jsx)("div",{className:"card",children:Object(pe.jsx)("div",{className:"card-body",children:Object(pe.jsxs)("form",{onSubmit:b(O),children:[Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-sm-12 col-md-6 col-4",children:Object(pe.jsxs)("div",{className:"input",children:[m.name&&Object(pe.jsxs)("span",{className:"error",children:["*",m.name.message]}),Object(pe.jsx)("input",{type:"text",name:"name",id:"name",className:"input-field",value:r.name,onChange:function(e){return c(Object(u.a)(Object(u.a)({},r),{},{name:e.target.value}))},ref:j(La)}),Object(pe.jsx)("label",{className:"input-label",children:"Category"})]})})}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsxs)("div",{className:"col-sm-12 col-md-8 col-8",children:[Object(pe.jsx)("h4",{children:"Select Color"}),Object(pe.jsxs)("div",{className:"list-colors",children:[Ha.map((function(e,t){return Object(pe.jsx)("div",{className:"pill pill-".concat(e.color," ").concat(e.color===r.color?"active":""),onClick:function(){return c(Object(u.a)(Object(u.a)({},r),{},{color:e.color}))},children:e.color},t)})),Object(pe.jsx)("input",{value:r.color,type:"hidden",name:"color",id:"color",ref:j(Wa)}),m.color&&Object(pe.jsxs)("span",{className:"error",children:["*",m.color.message]})]})]})}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme",disabled:"proccess"===i,children:"Add Data"})]})})})]})};function $a(e){return en.apply(this,arguments)}function en(){return(en=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.post("".concat(Pe,"/api/users"),t,{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(){return(tn=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/users"),{headers:{authorization:"Bearer ".concat(n)},params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/users/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e,t){return cn.apply(this,arguments)}function cn(){return(cn=Object(ge.a)(xe.a.mark((function e(t,a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},r=n.token,e.next=3,Se.a.put("".concat(Pe,"/api/users/").concat(t),a,{headers:{authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e){return on.apply(this,arguments)}function on(){return(on=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.delete("".concat(Pe,"/api/users/").concat(t),{headers:{authorization:"Bearer ".concat(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ln=function(e){var t=e.data,a=e.count;return{type:Q,data:t,count:a}},un=It()((function(e){return tn.apply(this,arguments)}),500),dn=function(){return function(){var e=Object(ge.a)(xe.a.mark((function e(t,a){var n,r,c,s,o,i,l;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:K}),n=a().users.perPage||2,r=a().users.currentPage||1,c={limit:n,skip:r*n-n},e.prev=4,e.next=7,un(c);case 7:s=e.sent,o=s.data,i=o.data,l=o.count,t(ln({data:i,count:l})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t({type:V});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,a){return e.apply(this,arguments)}}()},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:Z,currentPage:e}},bn=function(){return{type:X}},mn=function(){return{type:$}},pn={required:{value:!0,message:"Full Name harus di isi!"},maxLength:{value:55,message:"Panjang full name maksimal 55 karakter"}},hn={required:{value:!0,message:"Email harus di isi!"},maxLength:{value:55,message:"Panjang Email maksimal 55 karakter"}},On={required:{value:!0,message:"Password harus di isi!"},maxLength:{value:55,message:"Panjang Password maksimal 55 karakter"}},fn={required:{value:!0,message:"confirmPassword harus di isi!"},maxLength:{value:55,message:"Panjang confirmPassword maksimal 55 karakter"}},xn={required:{value:!0,message:"Role harus diisi!"}},gn={required:{value:!0,message:"Role harus diisi!"}},vn=["id","image","email","confirmPassword","password"],yn=["admin","kitchen","cashier","waiter"],Nn={_id:"",full_name:"",password:"",confirmPassword:"",email:"",role:"",image_url:"",active:""},kn=["active","deactive","suspend"],wn="idle",An="proccess",Sn="success",Cn="error";var Pn=function(){var e=Object(i.b)(),t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(ie.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(Nn),l=Object(ie.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(!1),m=Object(ie.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(wn),f=Object(ie.a)(O,2),x=f[0],g=f[1],v=we()(Ne.a),y=Object(i.c)((function(e){return e.users})),N=Object(n.useState)(ha),k=Object(ie.a)(N,2),w=k[0],A=k[1],S=Object(ve.a)(),C=S.register,P=S.handleSubmit,D=S.formState.errors,E=S.setError,I=Object(n.useMemo)((function(){return Object(at.a)(y.data.filter((function(e){return"guest"!==e.role})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{no:t+1})})))}),[y]),T=Object(n.useMemo)((function(){return[{Header:"No",accessor:"no"},{Header:"Full Name",accessor:"full_name"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role"},{Header:"status",accessor:"active"},{Header:"Image",accessor:"image_url",Cell:function(e){var t=e.value;return Object(pe.jsx)("img",{src:"null"!==t?"http://admin-studiorosid.herokuapp.com/upload/user/".concat(t):"http://admin-studiorosid.herokuapp.com/upload/user/user.jpg",alt:t,style:{maxWidth:50}})}}]}),[]),_=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,an(t);case 3:if(a=e.sent,!(n=a.data).error){e.next=8;break}return console.log(n.error),e.abrupt("return");case 8:j({_id:n._id,full_name:n.full_name,password:"",confirmPassword:"",email:n.email,role:n.role,image_url:n.image_url,active:n.active});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.fire({title:"Do you want to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Delete"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=7;break}return e.next=3,sn(t);case 3:(n=e.sent).error&&v.fire({text:n.message,icon:"error",confirmButtonText:"OK"}),v.fire("Deleted!",n.message,"success"),h(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]),F=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s,o,i,l,u;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(An),a=new FormData,n=t.id,r=t.image,t.email,c=t.confirmPassword,s=t.password,o=Object(me.a)(t,vn),i=Object.keys(o),l=Object.values(o),a.append("image",r[0]),i.forEach((function(e,t){a.append(e,l[t])})),t.password===c){e.next=11;break}return E("password",{message:"Password Tidak Cocok !"}),g(Cn),e.abrupt("return");case 11:return s.length>0&&a.append("password",s),e.next=14,rn(n,a);case 14:(u=e.sent).error>0?(E("full_name",{message:u.message}),g(Cn)):(R("Berhasil Mengubah Data!"),g(Sn));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){v.fire({text:e,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(e){e.isConfirmed&&(j(Nn),s(!1),h(!0))}))};return Object(n.useEffect)((function(){return e(dn()),h(!1),pt.on("thisNewUser",(function(t){e(dn())})),function(){pt.off("thisNewUser",(function(e){console.log("socket off this new customer")}))}}),[e,y.currentPage,p]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Users"}),Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsx)(ut,{columns:T,data:I,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(at.a)(e),[{id:"Action",Header:"Action",Cell:function(e){var t=e.row;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{onClick:function(){return _(t.original._id)},type:"success",content:"edit"})," ",Object(pe.jsx)(dt,{onClick:function(){return B(t.original._id)},type:"danger",content:"delete"})]})}}])}))},addData:"/users/add",withFeature:!0})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(Wt,{totalItems:y.totalItems,page:y.currentPage,perPage:y.perPage,onChange:function(t){return e(jn(t))},onNext:function(t){return e(bn())},onPrev:function(t){return e(mn())}})})]}),Object(pe.jsx)(Mt,{show:c,onClose:function(){return s(!1)},title:"Edit Data Category",onSave:function(){return t.current.click()},children:Object(pe.jsxs)("form",{onSubmit:P(F),children:[Object(pe.jsx)("input",{type:"hidden",name:"id",value:d._id,ref:C()}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[D.full_name&&Object(pe.jsxs)("span",{className:"error",children:["*",D.full_name.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:C(pn),name:"full_name",value:d.full_name,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{full_name:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Full Name"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.email&&Object(pe.jsxs)("span",{className:"error",children:["*",D.email.message]}),Object(pe.jsx)("input",{type:"email",className:"input-field",ref:C(hn),name:"email",value:d.email,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{email:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Email"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.password&&Object(pe.jsxs)("span",{className:"error",children:["*",D.password.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:C(),name:"password",value:d.password,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{password:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.confirmPassword&&Object(pe.jsxs)("span",{className:"error",children:["*",D.confirmPassword.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:C(),name:"confirmPassword",value:d.confirmPassword,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{confirmPassword:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Confirm Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.active&&Object(pe.jsxs)("span",{className:"error",children:["*",D.active.message]}),Object(pe.jsx)("div",{className:"list-colors",children:kn&&kn.map((function(e,t){return Object(pe.jsx)("div",{className:"pill active ".concat(e===d.active?"pill-theme":""),onClick:function(){return j(Object(u.a)(Object(u.a)({},d),{},{active:e}))},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"active",children:"Status User"}),Object(pe.jsx)("input",{value:d.active,type:"hidden",name:"active",ref:C(gn),onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{active:e.target.value}))}})]})]}),Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[D.image&&Object(pe.jsxs)("span",{className:"error",children:["*",D.image.message]}),Object(pe.jsx)("input",{type:"file",name:"image",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&A(t.result)},t.readAsDataURL(e.target.files[0])}(e)},ref:C()}),Object(pe.jsx)("label",{className:"input-label",children:"Image Product"})]}),Object(pe.jsx)("div",{className:"image-preview",children:Object(pe.jsx)("img",{src:void 0!==d.image_url?"http://admin-studiorosid.herokuapp.com/upload/user/".concat(d.image_url):w,alt:"",style:{maxWidth:150}})}),Object(pe.jsxs)("div",{className:"input",children:[D.role&&Object(pe.jsxs)("span",{className:"error",children:["*",D.role.message]}),Object(pe.jsx)("div",{className:"list-colors",children:yn&&yn.map((function(e,t){return Object(pe.jsx)("div",{className:"pill active ".concat(e===d.role?"pill-theme":""),onClick:function(){return j(Object(u.a)(Object(u.a)({},d),{},{role:e}))},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"role",children:"Role User"}),Object(pe.jsx)("input",{value:d.role,type:"hidden",name:"role",ref:C(xn),onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{role:e.target.value}))}})]})]})]}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme btn-lg",disabled:"proccess"===x,ref:t,style:{display:"none"},children:"Add Data"})]})})]})},Dn=["image","confirmPassword"],En="idle",In="proccess",Tn="success",_n="error",Bn=["admin","kitchen","cashier","waiter"],Fn=["active","deactive","suspend"];var Rn=function(){var e=Object(ue.g)(),t=Object(n.useState)(En),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(ie.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)("active"),d=Object(ie.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)(ha),p=Object(ie.a)(m,2),h=p[0],O=p[1],f=Object(ve.a)(),x=f.register,g=f.handleSubmit,v=f.formState.errors,y=f.setError,N=we()(Ne.a),k=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,s,o,i,l;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(In),a=new FormData,n=t.image,r=t.confirmPassword,s=Object(me.a)(t,Dn),o=Object.keys(s),i=Object.values(s),a.append("image",n[0]),o.forEach((function(e,t){a.append(e,i[t])})),t.password===r){e.next=11;break}return y("password",{message:"Password Tidak Cocok !"}),c(_n),e.abrupt("return");case 11:return e.next=13,$a(a);case 13:(l=e.sent).error?(y("full_name",{message:l.message}),c(_n)):(w("Berhasil Menambah Data!"),c(Tn));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(t){N.fire({text:t,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(t){t.isConfirmed&&e.push("/users")}))};return Object(n.useEffect)((function(){return c(En),function(){return c(En)}}),[]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Add Data User"}),Object(pe.jsx)("div",{className:"card",children:Object(pe.jsx)("div",{className:"card-body",children:Object(pe.jsxs)("form",{onSubmit:g(k),children:[Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[v.full_name&&Object(pe.jsxs)("span",{className:"error",children:["*",v.full_name.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:x(pn),name:"full_name"}),Object(pe.jsx)("label",{className:"input-label",children:"Full Name"})]}),Object(pe.jsxs)("div",{className:"input",children:[v.email&&Object(pe.jsxs)("span",{className:"error",children:["*",v.email.message]}),Object(pe.jsx)("input",{type:"email",className:"input-field",ref:x(hn),name:"email"}),Object(pe.jsx)("label",{className:"input-label",children:"Email"})]}),Object(pe.jsxs)("div",{className:"input",children:[v.password&&Object(pe.jsxs)("span",{className:"error",children:["*",v.password.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:x(On),name:"password"}),Object(pe.jsx)("label",{className:"input-label",children:"Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[v.confirmPassword&&Object(pe.jsxs)("span",{className:"error",children:["*",v.confirmPassword.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:x(fn),name:"confirmPassword"}),Object(pe.jsx)("label",{className:"input-label",children:"Confirm Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[v.active&&Object(pe.jsxs)("span",{className:"error",children:["*",v.active.message]}),Object(pe.jsx)("div",{className:"list-colors",children:Fn&&Fn.map((function(e,t){return Object(pe.jsx)("div",{className:"pill  active ".concat(e===j?"pill-theme":""),onClick:function(){return b(e)},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"active",children:"Status User"}),Object(pe.jsx)("input",{value:j,type:"hidden",name:"active",ref:x(gn)})]})]}),Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[v.image&&Object(pe.jsxs)("span",{className:"error",children:["*",v.image.message]}),Object(pe.jsx)("input",{type:"file",name:"image",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&O(t.result)},t.readAsDataURL(e.target.files[0])}(e)},ref:x(),className:"custom-file-input"}),Object(pe.jsx)("label",{className:"input-label",children:"Image Product"})]}),Object(pe.jsx)("div",{className:"image-preview",children:Object(pe.jsx)("img",{src:h,alt:"",style:{maxWidth:150}})}),Object(pe.jsxs)("div",{className:"input",style:{marginTop:15},children:[v.role&&Object(pe.jsxs)("span",{className:"error",children:["*",v.role.message]}),Object(pe.jsx)("div",{className:"list-colors",children:Bn&&Bn.map((function(e,t){return Object(pe.jsx)("div",{className:"pill  active ".concat(e===i?"pill-theme":""),onClick:function(){return l(e)},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"role",children:"Role User"}),Object(pe.jsx)("input",{value:i,type:"hidden",name:"role",ref:x(xn)})]})]})]}),Object(pe.jsx)(Re,{type:"submit",submit:!0,className:"btn btn-theme btn-lg btn-block",disabled:"proccess"===r,children:"Add Data"})]})})})]})},Hn=a(136),Ln=a.n(Hn);function Wn(e){return isNaN(parseInt(e))?"":new Intl.NumberFormat("id-ID",{maximumSignificantDigits:5,style:"currency",currency:"IDR"}).format(e)}var Mn=function(e){var t=e.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t}),0);return t},zn={waiting_payment:"waiting",done:"done"};function Gn(e){var t=e.items,a=e.status,n=Object(ue.g)();return"success"===a?Object(pe.jsx)("div",{className:"wrapper",children:Object(pe.jsxs)("table",{children:[Object(pe.jsx)("thead",{children:Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("th",{className:"display-5",children:"No"}),Object(pe.jsx)("th",{className:"display-5",children:"Order"}),Object(pe.jsx)("th",{className:"display-5",children:"Total"}),Object(pe.jsx)("th",{className:"display-5 text-center",children:"Action"})]})}),Object(pe.jsx)("tbody",{children:t.map((function(e){return Object(pe.jsxs)("tr",{children:[Object(pe.jsxs)("td",{children:["#",e.order_number,Object(pe.jsx)("br",{}),zn[e.status_payment]]}),Object(pe.jsx)("td",{children:e.order_items.map((function(e,t){return Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("span",{className:"display-5",children:[e.name," x ",e.qty]}),Object(pe.jsx)("br",{})]},t)}))}),Object(pe.jsx)("td",{children:Mn(e.order_items)}),Object(pe.jsx)("td",{className:"text-center",children:Object(pe.jsx)(Re,{className:"btn btn-theme",isSmall:!0,onClick:function(){return n.push("/detailorder/".concat(e._id))},children:"Detail"})})]},e._id)}))})]})}):Object(pe.jsx)("span",{children:"Belum ada data"})}var Jn="idle",qn="proccess",Un="success",Yn="error",Kn={required:{value:!0,message:"id customer harus di isi!"}};var Vn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.orders})),a=Object(n.useState)(""),r=Object(ie.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!1),l=Object(ie.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(Jn),b=Object(ie.a)(j,2),m=b[0],p=b[1],h=Object(n.useState)([]),O=Object(ie.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)({}),v=Object(ie.a)(g,2),y=v[0],N=v[1],k=Object(n.useState)(0),w=Object(ie.a)(k,2),A=w[0],S=w[1],C=Object(n.useState)(null),P=Object(ie.a)(C,2),D=P[0],E=P[1],I=Object(ve.a)(),T=I.register,_=I.handleSubmit,B=I.formState.errors,F=I.setError,R=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,p(qn),e.next=4,vt(a);case 4:if(n=e.sent,!(r=n.data).error){e.next=10;break}return F("id",{message:r.message}),p(Yn),e.abrupt("return");case 10:if(!((c=r.filter((function(e){return"done"!==e.status_payment}))).length<1)){e.next=14;break}return E("Semua Orderan Sudah Dibayarkan!"),e.abrupt("return");case 14:s=c.map((function(e){return e.order_items.reduce((function(e,t){return e+t.price*t.qty}),0)})).reduce((function(e,t){return e+t})),N({subTotal:s,tax:.1*s,grandTotal:s+.1*s,kembalian:-1*(s+.1*s)}),x(r.filter((function(e){return"done"!==e.status_payment}))),p(Un);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(t);case 2:if(!(a=e.sent).error){e.next=6;break}return console.log(a.error),e.abrupt("return");case 6:x([]),N({}),S(0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){e(Bt())}),[e,t.currentPage]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Payments"}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:t.totalItems,title:"Total Orders"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:t.fullData.filter((function(e){return"waiting_payment"===e.status_payment})).length,title:"Waiting",color:"orange"})}),Object(pe.jsx)("div",{className:"col-3 col-md-6 col-sm-12",children:Object(pe.jsx)(st,{icon:"bx bx-cart",count:t.fullData.filter((function(e){return"done"===e.status_payment})).length,title:"Done",color:"green"})})]}),Object(pe.jsx)("div",{className:"card",children:Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-5",children:[Object(pe.jsxs)("form",{onSubmit:_(R),children:[Object(pe.jsxs)("div",{className:"input input-id",children:[Object(pe.jsx)("input",{type:"text",name:"id",ref:T(Kn),value:c,placeholder:"input id customer...",onChange:function(e){return s(e.target.value)}}),Object(pe.jsxs)(Re,{submit:!0,className:"btn btn-theme d-flex",children:[Object(pe.jsx)(je.a,{icon:be.o}),"Search"]}),Object(pe.jsx)("div",{className:"qr-code",onClick:function(){return d(!0)},children:Object(pe.jsx)(je.a,{icon:be.n})})]}),B.id&&Object(pe.jsxs)("span",{className:"error",children:["*",B.id.message]})]}),null===D?f&&Object(pe.jsx)(Gn,{items:f,status:m}):Object(pe.jsx)("span",{children:D})]}),f.length>0&&Object(pe.jsxs)("div",{className:"col-7",children:[Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-6 col-sm-12",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"nama",disabled:!0,value:f[0].user.full_name}),Object(pe.jsx)("label",{htmlFor:"nama",children:"Mr/Mrs"})]})}),Object(pe.jsx)("div",{className:"col-6 col-sm-12",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"email",disabled:!0,value:f[0].user.email}),Object(pe.jsx)("label",{htmlFor:"email",children:"Email"})]})})]}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",disabled:!0,value:Wn(y.subTotal)}),Object(pe.jsx)("label",{htmlFor:"subTotal",children:"SubTotal (Rp)"})]})}),Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"salesTax",disabled:!0,value:Wn(y.tax)}),Object(pe.jsx)("label",{htmlFor:"salesTax",children:"Sales Tax (Rp)"})]})})]}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"grandTotal",disabled:!0,value:Wn(y.grandTotal)}),Object(pe.jsx)("label",{htmlFor:"grandTotal",children:"GrandTotal"})]})}),Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"cash",onChange:function(e){return t=e.target.value,void S(t);var t}}),Object(pe.jsx)("label",{htmlFor:"cash",children:"Uang DiTerima"})]})}),Object(pe.jsx)("div",{className:"col-6"}),Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)("div",{className:"input",children:[Object(pe.jsx)("input",{type:"text",name:"kembalian",disabled:!0,value:+A+ +y.kembalian}),Object(pe.jsx)("label",{htmlFor:"kembalian",children:"Kembalian"})]})}),f.length>0&&Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsxs)(Re,{className:"btn btn-theme btn-block",onClick:function(){return H(f[0].user._id)},children:[Object(pe.jsx)(je.a,{icon:be.d})," Proccess Order"]})})]})]})]})}),Object(pe.jsx)(Mt,{show:u,onClose:function(){return d(!1)},title:"Scan Barqode",children:Object(pe.jsxs)("div",{className:"d-flex",children:[Object(pe.jsx)(Ln.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&s(e)},style:{height:300,width:300}}),Object(pe.jsx)("textarea",{name:"qrscan",id:"qrscan",cols:"35",rows:"18",style:{marginLeft:15},value:c,onChange:function(e){return s(e.target.value)}})]})})]})},Qn=a(48),Zn=a(138),Xn=a(97),$n=function(e){var t=e.apiData,a=e.fileName;return Object(pe.jsxs)("button",{className:"btn btn-lg btn-theme btn-block",onClick:function(e){return function(e,t){var a={Sheets:{data:Xn.utils.json_to_sheet(e)},SheetNames:["data"]},n=Xn.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Zn.saveAs(r,t+".xlsx")}(t,a)},children:[Object(pe.jsx)(je.a,{icon:be.i}),"Export to Excel"]})};function er(){var e=Object(n.useState)(!1),t=Object(ie.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(ie.a)(c,2),o=s[0],i=s[1],l=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),d=Object(ie.a)(l,2),j=d[0],b=d[1],m=Object(n.useRef)(),p=Object(Qn.useReactToPrint)({content:function(){return m.current}}),h=Object(n.useMemo)((function(){return o}),[o]),O=Object(n.useMemo)((function(){return[{Header:"#",Cell:function(e){return Object(pe.jsx)("div",{children:Number(e.row.id)+1})}},{Header:"Nama Produk",accessor:"name"},{Header:"Harga Satuan",accessor:"price"},{Header:"Jumlah",accessor:"qty"},{Header:"Sub Total",accessor:"subTotal"},{Header:"Tax(10%)",accessor:"tax"},{Header:"Total Harga",accessor:"total"}]}),[]);Object(n.useEffect)((function(){document.addEventListener("mousedown",x);var e=(localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{}).token;return Se.a.get("".concat(Pe,"/api/generateReport"),{headers:{authorization:"Bearer ".concat(e)},params:{startDate:j[0].startDate,endDate:j[0].endDate}}).then((function(e){var t=e.data,a=Object(at.a)(t.data.map((function(e){return delete e.order,Object(u.a)({},e)})));a=a.map((function(e,t,a){var n={name:e.name,price:e.price,qty:0,subTotal:0,tax:0,total:0};return a.filter((function(t){return t.name===e.name})).reduce((function(e,t){return e.qty+=t.qty,e.subTotal=e.price*e.qty,e.tax=.1*e.subTotal,e.total=e.subTotal+e.tax,e}),n)})).filter((function(e,t,a){return-1===a.findIndex((function(a,n){return a.name===e.name&&n!==t&&n>t}))})),console.log(a),i(a)})),function(){document.removeEventListener("mousedown",x)}}),[j]);var f=Object(n.useRef)(null),x=function(e){f&&!f.current.contains(e.target)&&r(!1)};return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Report"}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)("div",{className:"input-date",ref:f,children:[Object(pe.jsxs)("button",{className:"btn btn-theme btn-block",onClick:function(){return r(!a)},style:{marginBottom:"10px"},children:[Object(pe.jsx)(je.a,{icon:be.b})," Filter Berdasarkan Tanggal"]}),a&&Object(pe.jsx)("div",{className:"date-range-wrapper",children:Object(pe.jsx)(lt.DateRangePicker,{onChange:function(e){return function(e){b([e.selection])}(e)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:1,ranges:j})}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsx)($n,{apiData:o,fileName:"LaporanPenjualan"})}),Object(pe.jsx)("div",{className:"col-6",children:Object(pe.jsxs)(Re,{className:"btn btn-theme btn-lg btn-block",onClick:p,children:[Object(pe.jsx)(je.a,{icon:be.l}),"Print to PDF"]})})]})]})}),Object(pe.jsxs)("div",{className:"col-8",children:[Object(pe.jsx)("h4",{style:{fontSize:"1.2rem",marginBottom:15},children:"Range Date"}),Object(pe.jsxs)("span",{children:["Start : ",j[0].startDate.toDateString()]})," ",Object(pe.jsx)("br",{}),Object(pe.jsx)("br",{}),Object(pe.jsxs)("span",{children:["End : ",j[0].endDate.toDateString()]})]})]}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsxs)("div",{className:"card",ref:m,children:[Object(pe.jsxs)("div",{className:"report-heading",style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pe.jsx)("img",{alt:"A test ",src:He,style:{width:"130px"}}),Object(pe.jsx)("span",{style:{fontSize:"2rem",fontWeight:600,color:"#FC1D1D"},children:"Studio Rosid"})]}),Object(pe.jsxs)("div",{className:"report-subTitle",style:{width:"100%",textAlign:"center"},children:[Object(pe.jsx)("h2",{style:{fontSize:"1.8rem"},children:"Laporan Penjualan"}),Object(pe.jsxs)("h5",{children:[j[0].startDate.toDateString()," -"," ",j[0].endDate.toDateString()]})]}),Object(pe.jsx)(ut,{columns:O,data:h})]})})})]})}function tr(){return ar.apply(this,arguments)}function ar(){return(ar=Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},a=t.token,e.next=3,Se.a.get("".concat(Pe,"/api/analyticsTrend"),{headers:{authorization:"Bearer ".concat(a)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=Object(ge.a)(xe.a.mark((function e(t,a){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},r=n.token,e.next=3,Se.a.get("".concat(Pe,"/api/analyticsProduct"),{headers:{authorization:"Bearer ".concat(r)},params:{startDate:t,endDate:a}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cr(e){return sr.apply(this,arguments)}function sr(){return(sr=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{},n=a.token,e.next=3,Se.a.get("".concat(Pe,"/api/analyticsOneProduct"),{headers:{authorization:"Bearer ".concat(n)},params:{name:t}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var or=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],r=t[1],c=Object(i.c)((function(e){return e.theme.mode})),s=Object(n.useState)(null),o=Object(ie.a)(s,2),l=o[0],d=o[1],j=new Date;j.setMonth(j.getMonth()+1);var b=j.toLocaleString("default",{month:"long"}),m=Object(n.useRef)(),p=Object(Qn.useReactToPrint)({content:function(){return m.current}}),h=Object(n.useMemo)((function(){return[{Header:"Bulan",accessor:"_id"},{Header:"Total",accessor:"totalAmount"}]}),[]),O=Object(n.useMemo)((function(){return Object(at.a)(a)}),[a]),f=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr();case 2:if(t=e.sent,!(a=t.data).error){e.next=7;break}return console.log(a.error),e.abrupt("return");case 7:r(a),d({series:[{name:"Penjualan",data:a.map((function(e){return e.totalAmount}))}],options:{color:["#6ab04c","#2980b9"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},colors:["#00BAEC"],fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},xaxis:{categories:a.map((function(e){return e._id}))},legend:{position:"top"},grid:{show:!1}}});case 9:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){return f(),pt.on("thisNewOrder",(function(e){f()})),function(){pt.off("thisNewOrder",(function(e){console.log("socket off"+e)}))}}),[f]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Trend Penjualan"}),Object(pe.jsx)("div",{className:"row",style:{marginBottom:10},children:Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)(Re,{className:"btn btn-theme btn-lg btn-block",onClick:p,children:[Object(pe.jsx)(je.a,{icon:be.l}),"Print to PDF"]})})}),Object(pe.jsxs)("div",{className:"row",ref:m,children:[Object(pe.jsx)("div",{className:"col-11",children:Object(pe.jsxs)("div",{className:"card full-height",children:[Object(pe.jsxs)("div",{className:"report-heading",style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pe.jsx)("img",{alt:"A test ",src:He,style:{width:"130px"}}),Object(pe.jsx)("span",{style:{fontSize:"2rem",fontWeight:600,color:"#FC1D1D"},children:"Studio Rosid"})]}),Object(pe.jsx)("h1",{style:{fontSize:"1.3rem",marginBottom:15},children:"Grafik Prediksi Trend Penjualan"}),null!==l&&Object(pe.jsx)(rt.a,{options:"theme-mode-dark"===c?Object(u.a)(Object(u.a)({},l.options),{},{theme:{mode:"dark"}}):Object(u.a)(Object(u.a)({},l.options),{},{theme:{mode:"light"}}),series:l.series,height:"270",type:"area"})]})}),Object(pe.jsx)("div",{className:"col-7",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("h1",{style:{fontSize:"1.3rem",marginBottom:15},children:"Deskripsi"}),a.length>0&&Object(pe.jsxs)("p",{style:{fontSize:"1rem",letterSpacing:"0.8px",lineHeight:1.2},children:["Analisis trend penjualan ini menggunakan metode",Object(pe.jsx)("span",{style:{fontStyle:"italic"},children:" least square"})," ","dimana data terbaru akan lebih relevan untuk menggambarkan data yang dicari. Jumlah data sebelumnya yang digunakan sebanyak"," ",a.length-1," data, dimana"," ",a.map((function(e,t){return t===a.length-1?"":"data ke-".concat(t+1," menunjukan penjualan sebesar Rp.").concat(e.totalAmount,", ")}))," ","setelah dilakukan analisis dapat disimpulkan prediksi penjualan untuk bulan selanjutnya yaitu bulan"," ",Object(pe.jsxs)("span",{style:{fontWeight:"bolder"},children:[b,a[a.length-2].totalAmount<a[a.length-1].totalAmount?" Naik ":" Turun "]})," ","dari bulan sebelumnya karena diprediksi mendapatkan"," ",Object(pe.jsxs)("span",{style:{fontWeight:"bolder"},children:["Rp.",a[a.length-1].totalAmount.toString(),"."]})]})]})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__header",children:Object(pe.jsx)("h4",{children:"Data List"})}),Object(pe.jsx)("div",{className:"card__body",children:a.length>0&&Object(pe.jsx)(ut,{columns:h,data:O})})]})})]})]})},ir=new Date;ir.setMonth(ir.getMonth()+1);var lr=ir.toLocaleString("default",{month:"long"});var ur=function(){var e=Object(ue.h)().name,t=Object(n.useState)([]),a=Object(ie.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(ie.a)(s,2),l=o[0],d=o[1],j=Object(i.c)((function(e){return e.theme.mode})),b=Object(n.useRef)(),m=Object(Qn.useReactToPrint)({content:function(){return b.current}}),p=Object(n.useMemo)((function(){return[{Header:"Bulan",accessor:"_id"},{Header:"qty",accessor:"qty"}]}),[]),h=Object(n.useMemo)((function(){return Object(at.a)(r)}),[r]),O=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function t(){var a,n;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cr(e);case 2:if(a=t.sent,!(n=a.data).error){t.next=7;break}return console.log(n.error),t.abrupt("return");case 7:c(n),d({series:[{name:"Penjualan",data:n.map((function(e){return e.qty}))}],options:{color:["#6ab04c","#2980b9"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},colors:["#00BAEC"],fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},xaxis:{categories:n.map((function(e){return e._id}))},legend:{position:"top"},grid:{show:!1}}});case 9:case"end":return t.stop()}}),t)}))),[e]);return Object(n.useEffect)((function(){return O(),pt.on("thisNewOrder",(function(e){O()})),function(){pt.off("thisNewOrder",(function(e){console.log("socket off"+e)}))}}),[O]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("div",{className:"row",style:{marginBottom:"10px"},children:Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)(Re,{className:"btn btn-theme btn-lg btn-block",onClick:m,children:[Object(pe.jsx)(je.a,{icon:be.l}),"Print to PDF"]})})}),Object(pe.jsxs)("div",{className:"row",ref:b,children:[Object(pe.jsx)("div",{className:"col-11",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsxs)("div",{className:"report-heading",style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pe.jsx)("img",{alt:"A test ",src:He,style:{width:"130px"}}),Object(pe.jsx)("span",{style:{fontSize:"2rem",fontWeight:600,color:"#FC1D1D"},children:"Studio Rosid"})]}),Object(pe.jsxs)("h1",{style:{fontSize:"1.2rem",marginBottom:15},children:["Perkembangan Penjualan Produk ",e]}),null!==l&&Object(pe.jsx)(rt.a,{options:"theme-mode-dark"===j?Object(u.a)(Object(u.a)({},l.options),{},{theme:{mode:"dark"}}):Object(u.a)(Object(u.a)({},l.options),{},{theme:{mode:"light"}}),series:l.series,height:"270",type:"area"})]})}),Object(pe.jsx)("div",{className:"col-7",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("h1",{style:{fontSize:"1.3rem",marginBottom:15},children:"Deskripsi"}),r.length>2?Object(pe.jsxs)("p",{style:{fontSize:"1rem",letterSpacing:"0.8px",lineHeight:1.2},children:["Analisis trend ini menggunakan metode",Object(pe.jsx)("span",{style:{fontStyle:"italic"},children:" least square"})," ","dimana data terbaru akan lebih relevan untuk menggambarkan data yang akan datang. Jumlah data sebelumnya yang digunakan sebanyak"," ",r.length-1," data, dimana"," ",r.map((function(e,t){return t===r.length-1?"":"data ke-".concat(t+1," menunjukan penjualan produk sebanyak ").concat(e.qty,"buah, ")}))," ","setelah dilakukan analisis dapat disimpulkan prediksi permintaan produk untuk bulan selanjutnya yaitu bulan"," ",Object(pe.jsxs)("span",{style:{fontWeight:"bolder"},children:[lr," mengalami",r[r.length-2].qty<r[r.length-1].qty?" Kenaikan ":" Penurunan "]})," ","dari bulan sebelumnya karena diprediksi akan mendapat permintaan sebanyak"," ",Object(pe.jsxs)("span",{style:{fontWeight:"bolder"},children:[r[r.length-1].qty.toString()," buah."]})]}):Object(pe.jsx)("h1",{style:{fontSize:"1.1rem",marginBottom:15},children:"Data Masih Kosong"})]})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__header",children:Object(pe.jsx)("h4",{children:"Data List"})}),Object(pe.jsx)("div",{className:"card__body",children:r.length>0&&Object(pe.jsx)(ut,{columns:p,data:h})})]})})]})]})};var dr=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(ie.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),j=Object(ie.a)(d,2),b=j[0],m=j[1],p=Object(i.c)((function(e){return e.theme.mode})),h=Object(n.useState)(null),O=Object(ie.a)(h,2),f=O[0],x=O[1],g=Object(n.useRef)(),v=Object(Qn.useReactToPrint)({content:function(){return g.current}}),y=Object(n.useRef)(null),N=function(e){y&&!y.current.contains(e.target)&&l(!1)},k=Object(n.useMemo)((function(){return[{Header:"nama",accessor:"_id"},{Header:"qty",accessor:"qty"}]}),[]),w=Object(n.useMemo)((function(){return Object(at.a)(a)}),[a]),A=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(b[0].startDate,b[0].endDate);case 2:if(t=e.sent,!(a=t.data).error){e.next=7;break}return console.log(a.error),e.abrupt("return");case 7:r(a),x({series:[{name:"Penjualan",data:a.map((function(e){return e.qty}))}],options:{color:["#6ab04c","#2980b9"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},colors:["#00BAEC"],fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},xaxis:{categories:a.map((function(e){return e._id}))},legend:{position:"top"},grid:{show:!1}}});case 9:case"end":return e.stop()}}),e)}))),[b]);return Object(n.useEffect)((function(){return document.addEventListener("mousedown",N),A(),pt.on("thisNewOrder",(function(e){A()})),function(){document.removeEventListener("mousedown",N),pt.off("thisNewOrder",(function(e){console.log("socket off "+e)}))}}),[A,b]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Trend Penjualan"}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)(Re,{className:"btn btn-theme btn-lg btn-block",onClick:v,children:[Object(pe.jsx)(je.a,{icon:be.l}),"Print to PDF"]})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)("div",{className:"input-date",ref:y,children:[Object(pe.jsxs)("button",{className:"btn btn-theme btn-lg btn-block",onClick:function(){return l(!o)},style:{marginBottom:"10px"},children:[Object(pe.jsx)(je.a,{icon:be.b})," Filter Berdasarkan Tanggal"]}),o&&Object(pe.jsx)("div",{className:"date-range-wrapper",children:Object(pe.jsx)(lt.DateRangePicker,{onChange:function(e){return function(e){m([e.selection])}(e)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:1,ranges:b})})]})})]}),Object(pe.jsxs)("div",{className:"row",ref:g,children:[Object(pe.jsxs)("div",{className:"col-12",children:[Object(pe.jsxs)("div",{className:"report-heading",style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pe.jsx)("img",{alt:"A test ",src:He,style:{width:"130px"}}),Object(pe.jsx)("span",{style:{fontSize:"2rem",fontWeight:600,color:"#FC1D1D"},children:"Studio Rosid"})]}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsx)("h1",{style:{fontSize:"1.3rem"},children:"Grafik Top Produk"})}),Object(pe.jsxs)("div",{className:"col-8",children:["Tanggal: ",b[0].startDate.toDateString()," -"," ",b[0].endDate.toDateString()]})]})]}),Object(pe.jsx)("div",{className:"col-8",children:Object(pe.jsx)("div",{className:"card",children:null!==f&&Object(pe.jsx)(rt.a,{options:"theme-mode-dark"===p?Object(u.a)(Object(u.a)({},f.options),{},{theme:{mode:"dark"}}):Object(u.a)(Object(u.a)({},f.options),{},{theme:{mode:"light"}}),series:f.series,type:"area"})})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__header",children:Object(pe.jsx)("h4",{children:"Data List"})}),Object(pe.jsx)("div",{className:"card__body",children:a.length>0&&Object(pe.jsx)(ut,{columns:k,data:w})})]})}),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("h1",{style:{fontSize:"1.3rem",marginBottom:15},children:"Deskripsi"}),a.length>0&&Object(pe.jsxs)("p",{style:{fontSize:"1rem",letterSpacing:"0.8px",lineHeight:1.2},children:["Dalam grafik 7 produk terlaris diatas dapat dilihat bahwa produk",Object(pe.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",a[0]._id]})," ","merupakan produk paling banyak diminati pelanggan karena telah terjual sebanyak"," ",Object(pe.jsx)("span",{style:{fontWeight:"bold"},children:a[0].qty}),"buah, diikuti oleh"," ",a.map((function(e,t){return 0===t?"":"".concat(e._id," terjual sebanyak ").concat(e.qty,"buah, ")}))]})]})})]})]})};var jr=function(){var e=r.a.useState([]),t=Object(ie.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){var e=(localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{}).token;Se.a.get("".concat(Pe,"/api/allOrderItems"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data,a=Object(at.a)(t.data.map((function(e){return Object(u.a)({},e)})));n(a)}))}),[]),Object(pe.jsx)("div",{children:Object(pe.jsx)($n,{apiData:a,fileName:"myfile"})})};var br=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],r=t[1],c=Object(n.useCallback)(Object(ge.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt();case 2:if(t=e.sent,!(a=t.data).error){e.next=7;break}return console.log(a.error),e.abrupt("return");case 7:r(a.data);case 8:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){}),[a]),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Analytics"}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsx)(Re,{type:"link",href:"/trendpenjualan",children:Object(pe.jsxs)("div",{className:"status-card",children:[Object(pe.jsx)("div",{className:"status-card__icon",children:Object(pe.jsx)(je.a,{icon:be.h})}),Object(pe.jsx)("div",{className:"status-card__info",children:"Analisis Trend Penjualan "})]})})}),Object(pe.jsx)("div",{className:"col-4",children:Object(pe.jsx)("div",{onClick:function(){c()},children:Object(pe.jsxs)("div",{className:"status-card",children:[Object(pe.jsx)("div",{className:"status-card__icon",children:Object(pe.jsx)(je.a,{icon:be.c})}),Object(pe.jsx)("div",{className:"status-card__info",children:"Trend Produk "})]})})})]}),a.length>0&&Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("h1",{style:{fontSize:"1.2rem",marginBottom:15},children:"Pilih Produk"}),Object(pe.jsxs)("div",{className:"row",children:[a.map((function(e){return Object(pe.jsx)("div",{className:"col-3",style:{marginBottom:15},children:Object(pe.jsx)(Re,{className:"btn btn-theme btn-lg btn-block",type:"link",href:"/trendproduct/".concat(e.name),children:e.name})},e._id)})),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsx)(Re,{type:"link",href:"/topproducts",className:"btn btn-lg btn-block btn-theme",children:"Top Products"})})]})]})]})},mr=["id","image","email","confirmPassword","password"],pr=["guest"],hr={_id:"",full_name:"",password:"",confirmPassword:"",email:"",role:"",image_url:"",active:""},Or=["active","deactive","suspend"],fr="idle",xr="proccess",gr="success",vr="error";var yr,Nr=function(){var e=Object(i.b)(),t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(ie.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(hr),l=Object(ie.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(!1),m=Object(ie.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(fr),f=Object(ie.a)(O,2),x=f[0],g=f[1],v=we()(Ne.a),y=Object(i.c)((function(e){return e.users})),N=Object(n.useState)(ha),k=Object(ie.a)(N,2),w=k[0],A=k[1],S=Object(ve.a)(),C=S.register,P=S.handleSubmit,D=S.formState.errors,E=S.setError,I=Object(n.useMemo)((function(){return Object(at.a)(y.data.filter((function(e){return"guest"===e.role})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{no:t+1})})))}),[y]),T=Object(n.useMemo)((function(){return[{Header:"No",accessor:"no"},{Header:"Full Name",accessor:"full_name"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role"},{Header:"status",accessor:"active"},{Header:"Image",accessor:"image_url",Cell:function(e){var t=e.value;return Object(pe.jsx)("img",{src:"null"!==t?"http://admin-studiorosid.herokuapp.com/upload/user/".concat(t):"http://admin-studiorosid.herokuapp.com/upload/user/user.jpg",alt:t,style:{maxWidth:50}})}}]}),[]),_=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,an(t);case 3:if(a=e.sent,!(n=a.data).error){e.next=8;break}return console.log(n.error),e.abrupt("return");case 8:j({_id:n._id,full_name:n.full_name,password:"",confirmPassword:"",email:n.email,role:n.role,image_url:n.image_url,active:n.active});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(n.useCallback)(function(){var e=Object(ge.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.fire({title:"Do you want to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7c40ff",cancelButtonColor:"#ff5353",confirmButtonText:"Delete"}).then(function(){var e=Object(ge.a)(xe.a.mark((function e(a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=7;break}return e.next=3,sn(t);case 3:(n=e.sent).error&&v.fire({text:n.message,icon:"error",confirmButtonText:"OK"}),v.fire("Deleted!",n.message,"success"),h(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]),F=function(){var e=Object(ge.a)(xe.a.mark((function e(t){var a,n,r,c,s,o,i,l,u;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(xr),a=new FormData,n=t.id,r=t.image,t.email,c=t.confirmPassword,s=t.password,o=Object(me.a)(t,mr),i=Object.keys(o),l=Object.values(o),a.append("image",r[0]),i.forEach((function(e,t){a.append(e,l[t])})),t.password===c){e.next=11;break}return E("password",{message:"Password Tidak Cocok !"}),g(vr),e.abrupt("return");case 11:return s.length>0&&a.append("password",s),e.next=14,rn(n,a);case 14:(u=e.sent).error>0?(E("full_name",{message:u.message}),g(vr)):(R("Berhasil Mengubah Data!"),g(gr));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){v.fire({text:e,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4caf50"}).then((function(e){e.isConfirmed&&(j(hr),s(!1),h(!0))}))};return Object(n.useEffect)((function(){return e(dn()),h(!1),pt.on("thisNewCustomer",(function(t){e(dn())})),function(){pt.off("thisNewCustomer",(function(e){console.log("socket off this new customer")}))}}),[e,y.currentPage,p]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:15},children:"Customers"}),Object(pe.jsxs)("div",{className:"card",children:[Object(pe.jsx)("div",{className:"card__body",children:Object(pe.jsx)(ut,{columns:T,data:I,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(at.a)(e),[{id:"Action",Header:"Action",Cell:function(e){var t=e.row;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{onClick:function(){return _(t.original._id)},type:"success",content:"edit"})," ",Object(pe.jsx)(dt,{onClick:function(){return B(t.original._id)},type:"danger",content:"delete"})]})}}])}))},withFeature:!0})}),Object(pe.jsx)("div",{className:"card__footer",children:Object(pe.jsx)(Wt,{totalItems:y.totalItems,page:y.currentPage,perPage:y.perPage,onChange:function(t){return e(jn(t))},onNext:function(t){return e(bn())},onPrev:function(t){return e(mn())}})})]}),Object(pe.jsx)(Mt,{show:c,onClose:function(){return s(!1)},title:"Edit Data Category",onSave:function(){return t.current.click()},children:Object(pe.jsxs)("form",{onSubmit:P(F),children:[Object(pe.jsx)("input",{type:"hidden",name:"id",value:d._id,ref:C()}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[D.full_name&&Object(pe.jsxs)("span",{className:"error",children:["*",D.full_name.message]}),Object(pe.jsx)("input",{type:"text",className:"input-field",ref:C(pn),name:"full_name",value:d.full_name,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{full_name:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Full Name"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.email&&Object(pe.jsxs)("span",{className:"error",children:["*",D.email.message]}),Object(pe.jsx)("input",{type:"email",className:"input-field",ref:C(hn),name:"email",value:d.email,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{email:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Email"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.password&&Object(pe.jsxs)("span",{className:"error",children:["*",D.password.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:C(),name:"password",value:d.password,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{password:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.confirmPassword&&Object(pe.jsxs)("span",{className:"error",children:["*",D.confirmPassword.message]}),Object(pe.jsx)("input",{type:"password",className:"input-field",ref:C(),name:"confirmPassword",value:d.confirmPassword,onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{confirmPassword:e.target.value}))}}),Object(pe.jsx)("label",{className:"input-label",children:"Confirm Password"})]}),Object(pe.jsxs)("div",{className:"input",children:[D.active&&Object(pe.jsxs)("span",{className:"error",children:["*",D.active.message]}),Object(pe.jsx)("div",{className:"list-colors",children:Or&&Or.map((function(e,t){return Object(pe.jsx)("div",{className:"pill active ".concat(e===d.active?"pill-theme":""),onClick:function(){return j(Object(u.a)(Object(u.a)({},d),{},{active:e}))},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"active",children:"Status User"}),Object(pe.jsx)("input",{value:d.active,type:"hidden",name:"active",ref:C(gn),onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{active:e.target.value}))}})]})]}),Object(pe.jsxs)("div",{className:"col-sm-12 col-md-12 col-6",children:[Object(pe.jsxs)("div",{className:"input",children:[D.image&&Object(pe.jsxs)("span",{className:"error",children:["*",D.image.message]}),Object(pe.jsx)("input",{type:"file",name:"image",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&A(t.result)},t.readAsDataURL(e.target.files[0])}(e)},ref:C()}),Object(pe.jsx)("label",{className:"input-label",children:"Image Product"})]}),Object(pe.jsx)("div",{className:"image-preview",children:Object(pe.jsx)("img",{src:void 0!==d.image_url?"http://admin-studiorosid.herokuapp.com/upload/user/".concat(d.image_url):w,alt:"",style:{maxWidth:150}})}),Object(pe.jsxs)("div",{className:"input",children:[D.role&&Object(pe.jsxs)("span",{className:"error",children:["*",D.role.message]}),Object(pe.jsx)("div",{className:"list-colors",children:pr&&pr.map((function(e,t){return Object(pe.jsx)("div",{className:"pill active ".concat(e===d.role?"pill-theme":""),onClick:function(){return j(Object(u.a)(Object(u.a)({},d),{},{role:e}))},children:e},t)}))}),Object(pe.jsx)("label",{htmlFor:"role",children:"Role User"}),Object(pe.jsx)("input",{value:d.role,type:"hidden",name:"role",ref:C(xn),onChange:function(e){return j(Object(u.a)(Object(u.a)({},d),{},{role:e.target.value}))}})]})]})]}),Object(pe.jsx)("button",{type:"submit",className:"btn btn-theme btn-lg",disabled:"proccess"===x,ref:t,style:{display:"none"},children:"Add Data"})]})})]})},kr=function(){var e=Object(i.c)((function(e){return e.auth})).user,t=function(e,t){if(null!==e){if("admin"!==e.role){if("waiter"===e.role||"kitchen"===e.role)return Object(pe.jsx)(Yt,{});if("cashier"===e.role)return Object(pe.jsx)(Vn,{})}return t}};return Object(pe.jsxs)(ue.d,{children:[Object(pe.jsx)(tt,{path:"/",exact:!0,children:t(e,Object(pe.jsx)(xt,{}))}),Object(pe.jsx)(tt,{path:"/products",exact:!0,children:t(e,Object(pe.jsx)(Pa,{}))}),Object(pe.jsx)(tt,{path:"/products/add",children:t(e,Object(pe.jsx)(Ba,{}))}),Object(pe.jsx)(tt,{path:"/categories",exact:!0,children:t(e,Object(pe.jsx)(Ua,{}))}),Object(pe.jsx)(tt,{path:"/categories/add",children:t(e,Object(pe.jsx)(Xa,{}))}),Object(pe.jsx)(tt,{path:"/users",exact:!0,children:t(e,Object(pe.jsx)(Pn,{}))}),Object(pe.jsx)(tt,{path:"/users/add",children:t(e,Object(pe.jsx)(Rn,{}))}),Object(pe.jsx)(tt,{path:"/orders",children:t(e,Object(pe.jsx)(Yt,{}))}),Object(pe.jsx)(tt,{path:"/payments",children:t(e,Object(pe.jsx)(Vn,{}))}),Object(pe.jsx)(tt,{path:"/analytics",children:t(e,Object(pe.jsx)(br,{}))}),Object(pe.jsx)(tt,{path:"/customers",children:t(e,Object(pe.jsx)(Nr,{}))}),Object(pe.jsx)(tt,{path:"/employee",children:t(e,Object(pe.jsx)(Pn,{}))}),Object(pe.jsx)(tt,{path:"/trendpenjualan",children:t(e,Object(pe.jsx)(or,{}))}),Object(pe.jsx)(tt,{path:"/topproducts",children:t(e,Object(pe.jsx)(dr,{}))}),Object(pe.jsx)(tt,{path:"/trendproduct/:name",children:t(e,Object(pe.jsx)(ur,{}))}),Object(pe.jsx)(tt,{path:"/excel",children:Object(pe.jsx)(jr,{})}),Object(pe.jsx)(tt,{path:"/report",children:t(e,Object(pe.jsx)(er,{}))})]})},wr=a(67),Ar=(a(224),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.theme})),a=Object(n.useState)(!1),r=Object(ie.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){var t=localStorage.getItem("themeMode","theme-mode-light"),a=localStorage.getItem("colorMode","theme-mode-light");return e(de.setMode(t)),e(de.setColor(a)),pt.on("notifNewOrder",(function(e){switch(e.type){case"preparing":wr.b.info("Pesanan Baru Atas Nama : ".concat(e.user),{icon:Object(pe.jsx)(je.a,{icon:be.j})});break;case"delivery":wr.b.warning("Pesanan Siap Atas Nama : ".concat(e.user),{icon:Object(pe.jsx)(je.a,{icon:be.m})});break;case"delivered":wr.b.success("Pesanan Terkirim Atas Nama : ".concat(e.user),{icon:Object(pe.jsx)(je.a,{icon:be.e})})}})),function(){pt.off("notifNewOrder",(function(e){console.log("socket notif new order is off")}))}}),[e]),Object(pe.jsx)(le.a,{children:Object(pe.jsxs)(ue.d,{children:[Object(pe.jsx)(Oe,{path:"/login",children:Object(pe.jsx)(Ge,{})}),Object(pe.jsx)(ue.b,{render:function(e){return Object(pe.jsxs)("div",{className:"layout ".concat(t.mode," ").concat(t.color),children:[Object(pe.jsx)(Ue,Object(u.a)(Object(u.a)({},e),{},{sidebar:c})),Object(pe.jsxs)("div",{className:"layout__content ".concat(c?"minimize":""),children:[Object(pe.jsx)($e,{handleSideBar:function(){s(!c)}}),Object(pe.jsx)("div",{className:"layout__content-main",children:Object(pe.jsx)(kr,{})}),Object(pe.jsx)(wr.a,{autoClose:1e4,theme:"colored"})]})]})}})]})})});function Sr(){var e=yr;(yr=oe.getState().auth)!==e&&localStorage.setItem("auth",JSON.stringify(yr))}function Cr(){return Object(n.useEffect)((function(){oe.subscribe(Sr)}),[]),Object(pe.jsx)(i.a,{store:oe,children:Object(pe.jsx)(r.a.StrictMode,{children:Object(pe.jsx)(Ar,{})})})}document.title="Studio Rosid",s.a.render(Object(pe.jsx)(Cr,{}),document.getElementById("root")),o()},83:function(e){e.exports=JSON.parse('[{"color":"red"},{"color":"light-red"},{"color":"blue"},{"color":"light-blue"},{"color":"cyan"},{"color":"light-cyan"},{"color":"green"},{"color":"light-green"},{"color":"orange"},{"color":"light-orange"},{"color":"yellow"},{"color":"light-yellow"},{"color":"brown"},{"color":"light-brown"}]')},96:function(e){e.exports=JSON.parse('[{"display_name":"Dashboard","route":"/","icon":"bx bx-category-alt","policy":["admin"]},{"display_name":"Products","route":"/products","icon":"bx bx-package","policy":["admin"]},{"display_name":"Orders","route":"/orders","icon":"bx bx-cart","policy":["admin","waiter","kitchen"]},{"display_name":"categories","route":"/categories","icon":"bx bx-list-ol","policy":["admin"]},{"display_name":"Employee","route":"/employee","icon":"bx bxs-user-rectangle","policy":["admin"]},{"display_name":"Customers","route":"/customers","icon":"bx bxs-user-circle","policy":["admin"]},{"display_name":"Payments","route":"/payments","icon":"bx bxs-badge-dollar","policy":["admin","cashier"]},{"display_name":"Analytics","route":"/analytics","icon":"bx bxs-analyse","policy":["admin"]},{"display_name":"Report","route":"/report","icon":"bx bxs-report","policy":["admin"]}]')}},[[225,1,2]]]);
//# sourceMappingURL=main.640b1944.chunk.js.map